"use strict";(self.webpackChunksea_tutor_react=self.webpackChunksea_tutor_react||[]).push([[516],{43345:function(i,e,o){o.r(e),o.d(e,{default:function(){return yi}});var l=o(29439),n=o(773),s=o(25327),t=o(70816),d=o.n(t),v=o(47313),u=o(85554),a=o(58467),c=o(31387),r=o(97738),_=o(18423),m=o(68366),y=o(79178),h="EditLessonPlan_partiallyCompleted__7zj6j",k="EditLessonPlan_notCompleted__vpoeB",b="EditLessonPlan_fullyCompleted__s8A9L",p="EditLessonPlan_editLessonPlanMainContainer__fpUTu",j="EditLessonPlan_editLessonPlanContainerHeader__UhtlP",f="EditLessonPlan_editLessonPlanContainerHeaderLeftSection__7UVbf",x="EditLessonPlan_editLessonPlanSessionNameContainer__bx+mm",w="EditLessonPlan_editLessonPlanSessionDetails__VLeTl",I="EditLessonPlan_editLessonPlanSessionDetailsLeftSection__GZGh3",g="EditLessonPlan_editLessonPlanSessionDetailsSection1__h6Gx-",D="EditLessonPlan_editLessonPlanSessionDetailsSection2__VEIlB",P="EditLessonPlan_Sec2__iFv29",N="EditLessonPlan_dateData__lJcDf",S="EditLessonPlan_editLessonPlanContent__kZt3m",L="EditLessonPlan_editLessonPlanContentItem__Vv4EY",T="EditLessonPlan_sessionNameOverFlowStyle__JcZ9B",A="EditLessonPlan_editLessonPlanContentItemHeader__jq9o1",Z="EditLessonPlan_editLessonPlanContentItemHeaderLabel__qv6BU",E="EditLessonPlan_editLessonPlanContentItemCont__MMgtQ",V="EditLessonPlan_divider__AF73+",C="EditLessonPlan_divider2__HM6aH",M="EditLessonPlan_editLessonPlanSessionDetailsCont__6oZ2N",q="EditLessonPlan_OutlineButton__Fln+2",R="EditLessonPlan_OutlineButtonColored__Qd942",O="EditLessonPlan_buttonFillColored__pE0Bg",U="EditLessonPlan_editLessonButtonGroup__Dn9NU",H="EditLessonPlan_editLessonPlanSequentialSection__OSjLh",Y="EditLessonPlan_editLessonPlanContentItemCalendar__ZtbSH",B="EditLessonPlan_addActivityButton__7N5eV",K="EditLessonPlan_loader__u12JB",J=o(91112),F=o(33272),G=o(59786),$=o(40713),Q=o(54902),z=o(46417),W=function(i){var e=i.title,o=i.desc,l=i.activity_list,n=i.type,t=i.duration,d=i.setViewReport,v=(i.subject_id,i.locationParams),a=i.yearId,c=i.handleActivityDelete,r=(0,u.v9)((function(i){return i.session})),_=r.previousPlan,m=r.editLessonPlan;return(0,z.jsxs)("div",{className:E,children:[(0,z.jsx)("label",{children:(0,z.jsx)("b",{children:e})}),(0,z.jsx)("p",{children:o}),(0,z.jsx)("div",{className:V}),(0,z.jsxs)("div",{className:I,children:[(0,z.jsxs)("div",{className:M,children:[(0,z.jsx)("img",{alt:"coin-icon",src:s.e2}),(0,z.jsx)("label",{children:0===(0,Q.Z)(l)?0:"".concat(n&&null!==_&&void 0!==_&&_.homework_coins_earned?null===_||void 0===_?void 0:_.homework_coins_earned:!n&&null!==_&&void 0!==_&&_.lesson_coins_earned?null===_||void 0===_?void 0:_.lesson_coins_earned:0,"/").concat((0,Q.Z)(l))})]}),(0,z.jsxs)("div",{className:M,children:[(0,z.jsx)("img",{alt:"clock-icon",src:s.SU}),(0,z.jsx)("label",{children:t?"".concat(t):null})]})]}),(0,z.jsx)("div",{children:(0,z.jsx)("label",{className:1===(0,F.lR)(l)?b:0===(0,F.lR)(l)?k:h,children:(0,F.U6)(l,n,null===_||void 0===_?void 0:_.ses_status)})}),(null===l||void 0===l?void 0:l.length)>0&&1===(0,F.lR)(l)&&(0,z.jsxs)("button",{onClick:function(){return d(!0)},className:q,children:["View ",n?"homework":"lesson"," report"]}),null===l||void 0===l?void 0:l.map((function(i,e){return(0,z.jsx)(J.Z,{handleActivityDelete:c,subject_id:+(null===i||void 0===i?void 0:i.fk_sub_id),type:4,values:i,handlePreview:function(){!function(i,e,o){var l=0===+e?"assessment":1===+e?"videos":5===+e?"worksheets":3===+e?"link":4===+e?"task":2===+e?"diagnostic":"",s="".concat("http://tutor.dev.mygooroo.io","/").concat($.Z.EDIT_LESSON_PLAN,"/").concat(null===m||void 0===m?void 0:m.pk_lesson_key,"?is_homework=").concat(n,"&sessionId=").concat(null===v||void 0===v?void 0:v.sessionId,"&studentId=").concat(null===v||void 0===v?void 0:v.studentId,"&subjectId=").concat(null===v||void 0===v?void 0:v.subjectId,"&yearId=").concat(a,"&typePlan=").concat(null===v||void 0===v?void 0:v.typePlan,"&selectedTab=").concat(null===v||void 0===v?void 0:v.selectedTab),t="".concat("https://student.dev.mygooroo.io","/").concat(l,"/").concat(i),d={studentID:null===v||void 0===v?void 0:v.studentId,subjectID:+o,isActivityPage:!1,activityNodeId:i,redirectUrl:s,tutorToken:G.Z.get(G.e.TOKEN)};G.Z.setStudent(G.e.STUDENT_DATA,JSON.stringify(d)),console.log({studentData:d,url:t}),window.open(t,"_self")}(null===i||void 0===i?void 0:i.pk_lesson_activity_key,null===i||void 0===i?void 0:i.activity_type,+(null===i||void 0===i?void 0:i.fk_sub_id))},handleMarkView:function(){!function(i,e,o){var l=5===+e?"worksheets":0===+e?"manual-marking":"",s="".concat("http://tutor.dev.mygooroo.io","/").concat($.Z.EDIT_LESSON_PLAN,"/").concat(null===m||void 0===m?void 0:m.pk_lesson_key,"?is_homework=").concat(n,"&sessionId=").concat(null===v||void 0===v?void 0:v.sessionId,"&studentId=").concat(null===v||void 0===v?void 0:v.studentId,"&subjectId=").concat(o,"&yearId=").concat(a,"&typePlan=").concat(null===v||void 0===v?void 0:v.typePlan,"&selectedTab=").concat(null===v||void 0===v?void 0:v.selectedTab),t="".concat("https://student.dev.mygooroo.io","/").concat(l,"/").concat(i),d={studentID:null===v||void 0===v?void 0:v.studentId,subjectID:+o,redirectUrl:s,tutorToken:G.Z.get(G.e.TOKEN)};G.Z.setStudent(G.e.STUDENT_DATA,JSON.stringify(d)),console.log({url:t}),window.open(t,"_self")}(null===i||void 0===i?void 0:i.pk_lesson_activity_key,null===i||void 0===i?void 0:i.activity_type,+(null===i||void 0===i?void 0:i.fk_sub_id))}},e)}))]})},X=o(1413),ii=o(70022),ei=function(i){var e,o=(0,v.useState)(null===i||void 0===i||null===(e=i.activity_list)||void 0===e?void 0:e.map((function(i,e){return(0,X.Z)({id:"item-".concat(e+1)},i)}))),n=(0,l.Z)(o,2),s=n[0],t=n[1],d=(0,u.I0)();return(0,z.jsx)(ii.Z5,{onDragEnd:function(e){if(e.destination){var o=function(i,e,o){var n=Array.from(i),s=n.splice(e,1),t=(0,l.Z)(s,1)[0];return n.splice(o,0,t),n}(s,e.source.index,e.destination.index);t(o);var n=[];null===o||void 0===o||o.map((function(i,e){var o={pk_lesson_activity_key:null===i||void 0===i?void 0:i.pk_lesson_activity_key,sort_order:e};n.push(o)}));var v={sortOrderData:n};d((0,r.jG)(v)).then((function(e){null===i||void 0===i||i.getValues()}))}},children:(0,z.jsx)(ii.bK,{droppableId:"droppable",children:function(e,o){return(0,z.jsxs)("div",(0,X.Z)((0,X.Z)({},e.droppableProps),{},{ref:e.innerRef,style:(o.isDraggingOver,{width:"100%"}),children:[null===s||void 0===s?void 0:s.map((function(e,o){return(0,z.jsx)(ii._l,{draggableId:null===e||void 0===e?void 0:e.id,index:o,children:function(o,l){return(0,z.jsx)("div",(0,X.Z)((0,X.Z)((0,X.Z)({ref:o.innerRef},o.draggableProps),o.dragHandleProps),{},{style:(l.isDragging,n=o.draggableProps.style,(0,X.Z)({userSelect:"none"},n)),children:(0,z.jsx)(J.Z,{type:3,subject_id:+(null===e||void 0===e?void 0:e.fk_sub_id),draggable:!0,values:e,redirectHandler:null===i||void 0===i?void 0:i.redirectHandler,handleActivityDelete:null===i||void 0===i?void 0:i.handleActivityDelete,sessionID:null===i||void 0===i?void 0:i.sessionID,studentID:null===i||void 0===i?void 0:i.studentID,setActivityType:null===i||void 0===i?void 0:i.setActivityType,activityType:null===i||void 0===i?void 0:i.activityType,getValues:null===i||void 0===i?void 0:i.getValues,lesson_key:null===i||void 0===i?void 0:i.lesson_key,handlePreview:function(){null===i||void 0===i||i.handlePreview(null===e||void 0===e?void 0:e.pk_lesson_activity_key,null===e||void 0===e?void 0:e.activity_type,+(null===e||void 0===e?void 0:e.fk_sub_id))},handleRepeat:null===i||void 0===i?void 0:i.handleRepeat,handleMarkView:function(){null===i||void 0===i||i.handleMarkView(null===e||void 0===e?void 0:e.pk_lesson_activity_key,null===e||void 0===e?void 0:e.activity_type,+(null===e||void 0===e?void 0:e.fk_sub_id))}})}));var n}},null===e||void 0===e?void 0:e.id)})),e.placeholder]}))}})})},oi=o(38997),li=o(18317),ni=o(60390),si=o(46123),ti=o.n(si),di=function(i){var e,o,n,t,a,_,m,y,h,k,b,p,j,f,x,w,P,S,V,C,q,R,O,U,Y,K,W,ii,si,di,vi,ui,ai,ci,ri,_i,mi=i.title,yi=i.type,hi=i.data,ki=i.setData,bi=i.locationParams,pi=i.navigate,ji=i.setBtnDisable,fi=i.handleActivityDelete,xi=i.getValues,wi=i.yearId,Ii=i.setUpdate,gi=(0,u.v9)((function(i){return i.session})),Di=gi.editLessonPlan,Pi=gi.lessonPlan,Ni=(0,v.useState)((function(){return{type:"",is_homework:"",activityId:""}})),Si=(0,l.Z)(Ni,2),Li=Si[0],Ti=Si[1],Ai=(0,v.useCallback)((function(){0===+yi&&1===+(null===Pi||void 0===Pi?void 0:Pi.ses_is_completed)?c.Am.error("Session is already completed"):pi("/"+$.Z.ADD_ACTIVITY,{state:{sessionID:null===bi||void 0===bi?void 0:bi.sessionId,studentID:null===bi||void 0===bi?void 0:bi.studentId,subjectID:null===bi||void 0===bi?void 0:bi.subjectId,yearID:wi,is_homework:yi,typePlan:null===bi||void 0===bi?void 0:bi.typePlan,selectedTabEditSession:+(null===bi||void 0===bi?void 0:bi.selectedTab)||+(null===bi||void 0===bi?void 0:bi.selectedTabEditSession),lesson_key:null===Di||void 0===Di?void 0:Di.pk_lesson_key}})}),[pi,wi,yi,bi]),Zi=null!==Di&&void 0!==Di&&Di.LessonActivities?null===Di||void 0===Di?void 0:Di.LessonActivities:[];Zi=null===(e=Zi)||void 0===e?void 0:e.filter((function(i){return yi?null===i||void 0===i?void 0:i.marked_for_homework:!(null!==i&&void 0!==i&&i.marked_for_homework)}));var Ei=function(i){return i.child},Vi=(0,u.I0)(),Ci=function(i,e,o){var l=0===+e?"assessment":1===+e?"videos":5===+e?"worksheets":3===+e?"link":4===+e?"task":2===+e?"diagnostic":6===+e?"videos":7===+e?"lcms-worksheets":"",n="".concat("http://tutor.dev.mygooroo.io","/").concat($.Z.EDIT_LESSON_PLAN,"/").concat(null===Di||void 0===Di?void 0:Di.pk_lesson_key,"?is_homework=").concat(yi,"&sessionId=").concat(null===bi||void 0===bi?void 0:bi.sessionId,"&studentId=").concat(null===bi||void 0===bi?void 0:bi.studentId,"&subjectId=").concat(o,"&yearId=").concat(wi,"&typePlan=").concat(null===bi||void 0===bi?void 0:bi.typePlan,"&selectedTab=").concat(null===bi||void 0===bi?void 0:bi.selectedTab),s=6===+e?"".concat("https://student.dev.mygooroo.io","/").concat(l,"/").concat(i,"?type=").concat(e,"&subject_id=").concat(o):7===+e?"".concat("https://student.dev.mygooroo.io","/").concat(l,"/").concat(i,"?subject_id=").concat(o):"".concat("https://student.dev.mygooroo.io","/").concat(l,"/").concat(i),t={studentID:null===bi||void 0===bi?void 0:bi.studentId,subjectID:+o,isActivityPage:!1,activityNodeId:i,redirectUrl:n,tutorToken:G.Z.get(G.e.TOKEN)};G.Z.setStudent(G.e.STUDENT_DATA,JSON.stringify(t)),console.log({studentData:t,url:s}),window.open(s,"_self")},Mi=function(){var i,e,o,l,n,s,t,d,v,u,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",_=0===+(null===a||void 0===a?void 0:a.activity_type),m=[7===a.activity_type?{activity_node_id:null===a||void 0===a||null===(i=a.workSheet)||void 0===i?void 0:i.id,type:+(null===a||void 0===a?void 0:a.activity_type),topic_id:null===a||void 0===a||null===(e=a.workSheet)||void 0===e?void 0:e.topic_id,subject_id:null===a||void 0===a||null===(o=a.workSheet)||void 0===o?void 0:o.subject_id,is_homework:null===a||void 0===a?void 0:a.marked_for_homework}:6===a.activity_type?{activity_node_id:null===a||void 0===a||null===(l=a.activity_node)||void 0===l?void 0:l.activity_node_id,type:+(null===a||void 0===a?void 0:a.activity_type),topic_id:null===a||void 0===a?void 0:a.activity_node.topic_id,subject_id:+(null===a||void 0===a?void 0:a.fk_sub_id),is_homework:null===a||void 0===a?void 0:a.marked_for_homework}:{activity_node_id:_?null===a||void 0===a||null===(n=a.activity_node)||void 0===n?void 0:n.activity_node_id:null===a||void 0===a||null===(s=a.library_item)||void 0===s?void 0:s.pk_tutor_library_item_id,type:+(null===a||void 0===a?void 0:a.activity_type),topic_id:_?null===a||void 0===a||null===(t=a.activity_node)||void 0===t||null===(d=t.activityLevelHasTopicNode)||void 0===d?void 0:d.topic_id:null===a||void 0===a||null===(v=a.library_item)||void 0===v||null===(u=v.activity_master_topic)||void 0===u?void 0:u.activity_topic_id,subject_id:+(null===a||void 0===a?void 0:a.fk_sub_id),is_homework:null===a||void 0===a?void 0:a.marked_for_homework}],y={subject_id:+(null===a||void 0===a?void 0:a.fk_sub_id),student_key:null===bi||void 0===bi?void 0:bi.studentId,session_key:null===bi||void 0===bi?void 0:bi.sessionId,lesson_key:null===Di||void 0===Di?void 0:Di.pk_lesson_key,activities:m,is_homework:null===a||void 0===a?void 0:a.marked_for_homework};Vi((0,r.Jl)(y)).then((function(i){var e;200===(null===i||void 0===i||null===(e=i.payload)||void 0===e?void 0:e.statusCode)&&(xi(),c.Am.success("Activity repeated successfully..."))}))},qi=function(i,e,o){var l=5===+e?"worksheets":0===+e?"manual-marking":7===+e?"lcms-worksheets":"",n="".concat("http://tutor.dev.mygooroo.io","/").concat($.Z.EDIT_LESSON_PLAN,"/").concat(null===Di||void 0===Di?void 0:Di.pk_lesson_key,"?is_homework=").concat(yi,"&sessionId=").concat(null===bi||void 0===bi?void 0:bi.sessionId,"&studentId=").concat(null===bi||void 0===bi?void 0:bi.studentId,"&subjectId=").concat(o,"&yearId=").concat(wi,"&typePlan=").concat(null===bi||void 0===bi?void 0:bi.typePlan,"&selectedTab=").concat(null===bi||void 0===bi?void 0:bi.selectedTab),s=7===+e?"".concat("https://student.dev.mygooroo.io","/").concat(l,"/").concat(i,"?subject_id=").concat(o):"".concat("https://student.dev.mygooroo.io","/").concat(l,"/").concat(i),t={studentID:null===bi||void 0===bi?void 0:bi.studentId,subjectID:+o,redirectUrl:n,manual:!0,tutorToken:G.Z.get(G.e.TOKEN)};G.Z.setStudent(G.e.STUDENT_DATA,JSON.stringify(t)),console.log({studentData:t,url:s}),window.open(s,"_self")},Ri=function(){var i;return!(!+(null===Di||void 0===Di||null===(i=Di.tbl_session)||void 0===i?void 0:i.ses_is_completed)||0!==yi)};return(0,z.jsx)("div",{className:0===+yi&&1===+(null===Di||void 0===Di||null===(o=Di.tbl_session)||void 0===o?void 0:o.ses_is_completed)?ti()(L,"pe-none"):L,children:(0,z.jsxs)("div",{className:A,children:[(0,z.jsx)("label",{className:Z,children:mi}),(0,z.jsx)("span",{children:"Message from tutor"}),(0,z.jsx)("textarea",{disabled:Ri(),value:0===yi?null===hi||void 0===hi?void 0:hi.lesson_desc:null===hi||void 0===hi?void 0:hi.homework_desc,cols:3,onChange:function(i){return function(i){0===yi?(ki((function(e){return(0,X.Z)((0,X.Z)({},e),{},{lesson_desc:i.target.value})})),Ii(!1)):(ki((function(e){return(0,X.Z)((0,X.Z)({},e),{},{homework_desc:i.target.value})})),Ii(!1)),ji(!1)}(i)},children:0===yi?null===hi||void 0===hi?void 0:hi.lesson_desc:null===hi||void 0===hi?void 0:hi.homework_desc}),(0,z.jsxs)("div",{className:I,children:[(0,z.jsxs)("div",{className:M,children:[(0,z.jsx)("img",{alt:"coin-icon",src:s.e2}),(0,z.jsx)("label",{children:0===(null===(n=Zi)||void 0===n?void 0:n.length)?"-":(0,Q.Z)(Zi)>0?"".concat(yi&&null!==Di&&void 0!==Di&&Di.homework_coins_earned?null===Di||void 0===Di?void 0:Di.homework_coins_earned:!yi&&null!==Di&&void 0!==Di&&Di.lesson_coins_earned?null===Di||void 0===Di?void 0:Di.lesson_coins_earned:0,"/").concat((0,Q.Z)(Zi)):0})]}),(0,z.jsxs)("div",{className:M,children:[(0,z.jsx)("img",{alt:"clock-icon",src:s.SU}),(0,z.jsx)("label",{children:yi?null!==Di&&void 0!==Di&&Di.totalHomeworkDuration?(0,li.g)(null===Di||void 0===Di?void 0:Di.totalHomeworkDuration):"-":null!==Di&&void 0!==Di&&Di.totalLessonDuration?(0,li.g)(null===Di||void 0===Di?void 0:Di.totalLessonDuration):"-"})]})]}),(0,z.jsxs)("div",{className:I,children:[(0,z.jsxs)("div",{className:g,children:[(0,z.jsx)("label",{id:T,children:null===Di||void 0===Di||null===(t=Di.tbl_session)||void 0===t||null===(a=t.tbl_session_time)||void 0===a?void 0:a.sest_name}),(0,z.jsx)("p",{children:null===Di||void 0===Di||null===(_=Di.tbl_session)||void 0===_||null===(m=_.tbl_session_time)||void 0===m?void 0:m.sest_type})]}),(0,z.jsxs)("div",{className:D,children:[(0,z.jsxs)("span",{id:N,children:[null!==Di&&void 0!==Di&&null!==(y=Di.tbl_session)&&void 0!==y&&y.ses_date?d()(null===Di||void 0===Di||null===(h=Di.tbl_session)||void 0===h?void 0:h.ses_date).format("DD MMM YYYY"):""," ","(",null!==Di&&void 0!==Di&&null!==(k=Di.tbl_session)&&void 0!==k&&null!==(b=k.tbl_session_time)&&void 0!==b&&b.sest_day?(0,F.hJ)(null===Di||void 0===Di||null===(p=Di.tbl_session)||void 0===p||null===(j=p.tbl_session_time)||void 0===j?void 0:j.sest_day):"-",")"]}),(0,z.jsxs)("p",{children:[null!==Di&&void 0!==Di&&null!==(f=Di.tbl_session)&&void 0!==f&&null!==(x=f.tbl_session_time)&&void 0!==x&&x.sest_start_time?(0,F.hK)(null===Di||void 0===Di||null===(w=Di.tbl_session)||void 0===w||null===(P=w.tbl_session_time)||void 0===P?void 0:P.sest_start_time):""," ","-"," ",null!==Di&&void 0!==Di&&null!==(S=Di.tbl_session)&&void 0!==S&&null!==(V=S.tbl_session_time)&&void 0!==V&&V.sest_end_time?(0,F.hK)(null===Di||void 0===Di||null===(C=Di.tbl_session)||void 0===C||null===(q=C.tbl_session_time)||void 0===q?void 0:q.sest_end_time):""," ","(",null!==Di&&void 0!==Di&&null!==(R=Di.tbl_session)&&void 0!==R&&null!==(O=R.tbl_session_time)&&void 0!==O&&O.sest_start_time&&null!==Di&&void 0!==Di&&null!==(U=Di.tbl_session)&&void 0!==U&&null!==(Y=U.tbl_session_time)&&void 0!==Y&&Y.sest_end_time?(0,ni.w)(null===Di||void 0===Di||null===(K=Di.tbl_session)||void 0===K||null===(W=K.tbl_session_time)||void 0===W?void 0:W.sest_start_time,null===Di||void 0===Di||null===(ii=Di.tbl_session)||void 0===ii||null===(si=ii.tbl_session_time)||void 0===si?void 0:si.sest_end_time):"-",")"]})]})]}),(0,z.jsxs)("div",{className:E,children:[(0,z.jsxs)("div",{className:H,children:[0===yi?null!==hi&&void 0!==hi&&hi.lesson_sequential?(0,z.jsx)("img",{alt:"sequential-icon",src:s.V$}):(0,z.jsx)("img",{alt:"random-icon",src:s.u4}):null!==hi&&void 0!==hi&&hi.homework_sequential?(0,z.jsx)("img",{alt:"sequential-icon",src:s.V$}):(0,z.jsx)("img",{alt:"random-icon",src:s.u4}),(0,z.jsx)("label",{children:0===yi?null!==hi&&void 0!==hi&&hi.lesson_sequential?"Sequential":"Random":null!==hi&&void 0!==hi&&hi.homework_sequential?"Sequential":"Random"}),(0,z.jsx)(oi.Z,{disabled:Ri(),height:15,width:30,onColor:"#4D4D4D",onChange:function(){ki(0===yi?function(i){return(0,X.Z)((0,X.Z)({},i),{},{lesson_sequential:!(null!==i&&void 0!==i&&i.lesson_sequential)})}:function(i){return(0,X.Z)((0,X.Z)({},i),{},{homework_sequential:!(null!==i&&void 0!==i&&i.homework_sequential)})}),Ii(!1),ji(!1)},checked:0===yi?null===hi||void 0===hi?void 0:hi.lesson_sequential:null===hi||void 0===hi?void 0:hi.homework_sequential})]}),(0,z.jsx)("div",{className:B,onClick:Ai,children:(0,z.jsx)("label",{children:"Add New Activity"})}),(0,z.jsxs)("div",{className:I,children:[(0,z.jsxs)("div",{className:M,children:[(0,z.jsx)("img",{alt:"coin-icon",src:s.e2}),(0,z.jsxs)("label",{children:[" ",0===(null===(di=Zi)||void 0===di?void 0:di.length)?"-":(0,Q.Z)(Zi)>0?"\n                  ".concat(yi&&null!==Di&&void 0!==Di&&Di.homework_coins_earned?null===Di||void 0===Di?void 0:Di.homework_coins_earned:!yi&&null!==Di&&void 0!==Di&&Di.lesson_coins_earned?null===Di||void 0===Di?void 0:Di.lesson_coins_earned:0,"/").concat((0,Q.Z)(Zi)):0]})]}),(0,z.jsxs)("div",{className:M,children:[(0,z.jsx)("img",{alt:"clock-icon",src:s.SU}),(0,z.jsx)("label",{children:yi?null!==Di&&void 0!==Di&&Di.totalHomeworkDuration?(0,li.g)(null===Di||void 0===Di?void 0:Di.totalHomeworkDuration):"-":null!==Di&&void 0!==Di&&Di.totalLessonDuration?(0,li.g)(null===Di||void 0===Di?void 0:Di.totalLessonDuration):"-"})]})]}),yi?null!==hi&&void 0!==hi&&hi.homework_sequential?null===Di||void 0===Di||null===(ci=Di.LessonActivities)||void 0===ci||null===(ri=ci.filter((function(i){return null===i||void 0===i?void 0:i.marked_for_homework})))||void 0===ri?void 0:ri.map((function(i,e){return(0,z.jsx)(J.Z,{lesson_key:null===Di||void 0===Di?void 0:Di.pk_lesson_key,subject_id:+(null===i||void 0===i?void 0:i.fk_sub_id),type:3,values:i,redirectHandler:Ai,setActivityType:Ti,activityType:Li,handleActivityDelete:fi,sessionID:null===bi||void 0===bi?void 0:bi.sessionId,studentID:null===bi||void 0===bi?void 0:bi.studentId,getValues:xi,handlePreview:function(){Ci(null===i||void 0===i?void 0:i.pk_lesson_activity_key,null===i||void 0===i?void 0:i.activity_type,+(null===i||void 0===i?void 0:i.fk_sub_id))},handleRepeat:Mi,handleMarkView:function(){qi(null===i||void 0===i?void 0:i.pk_lesson_activity_key,null===i||void 0===i?void 0:i.activity_type,+(null===i||void 0===i?void 0:i.fk_sub_id))}},e)})):(0,z.jsx)(Ei,{child:(0,z.jsx)(ei,{dispatch:Vi,lesson_key:null===Di||void 0===Di?void 0:Di.pk_lesson_key,subject_id:+(null===bi||void 0===bi?void 0:bi.subjectId),redirectHandler:Ai,handleActivityDelete:fi,activity_list:Di?null===Di||void 0===Di||null===(_i=Di.LessonActivities)||void 0===_i?void 0:_i.filter((function(i){return null===i||void 0===i?void 0:i.marked_for_homework})):[],sessionID:null===bi||void 0===bi?void 0:bi.sessionId,studentID:null===bi||void 0===bi?void 0:bi.studentId,setActivityType:Ti,activityType:Li,getValues:xi,handlePreview:function(i,e,o){return Ci(i,e,o)},handleRepeat:Mi,handleMarkView:qi},"ii-".concat(Di))}):null!==hi&&void 0!==hi&&hi.lesson_sequential?null===Di||void 0===Di||null===(vi=Di.LessonActivities)||void 0===vi||null===(ui=vi.filter((function(i){return!(null!==i&&void 0!==i&&i.marked_for_homework)})))||void 0===ui?void 0:ui.map((function(i,e){return(0,z.jsx)(J.Z,{lesson_key:null===Di||void 0===Di?void 0:Di.pk_lesson_key,subject_id:+(null===i||void 0===i?void 0:i.fk_sub_id),type:3,values:i,redirectHandler:Ai,handleActivityDelete:fi,sessionID:null===bi||void 0===bi?void 0:bi.sessionId,studentID:null===bi||void 0===bi?void 0:bi.studentId,setActivityType:Ti,activityType:Li,getValues:xi,handlePreview:function(){Ci(null===i||void 0===i?void 0:i.pk_lesson_activity_key,null===i||void 0===i?void 0:i.activity_type,+(null===i||void 0===i?void 0:i.fk_sub_id))},handleRepeat:Mi,handleMarkView:function(){return qi(null===i||void 0===i?void 0:i.pk_lesson_activity_key,null===i||void 0===i?void 0:i.activity_type,+(null===i||void 0===i?void 0:i.fk_sub_id))}},e)})):(0,z.jsx)(Ei,{child:(0,z.jsx)(ei,{dispatch:Vi,lesson_key:null===Di||void 0===Di?void 0:Di.pk_lesson_key,subject_id:null===bi||void 0===bi?void 0:bi.subjectId,redirectHandler:Ai,handleActivityDelete:fi,activity_list:Di?null===Di||void 0===Di||null===(ai=Di.LessonActivities)||void 0===ai?void 0:ai.filter((function(i){return!(null!==i&&void 0!==i&&i.marked_for_homework)})):[],sessionID:null===bi||void 0===bi?void 0:bi.sessionId,studentID:null===bi||void 0===bi?void 0:bi.studentId,setActivityType:Ti,activityType:Li,getValues:xi,handlePreview:function(i,e,o){return Ci(i,e,o)},handleRepeat:Mi,handleMarkView:qi},"ii-".concat(Di))})]})]})})},vi=function(i){var e,o,n,t,c,r,_,m,y,h,k,b,p,N,S,L,T,A,Z,E,V,C,M,q,R,O=i.setModalForStudentDetails,U=i.typePlan,H=i.selectedTab,Y=(0,u.v9)((function(i){return i.session})).editLessonPlan,B=(0,v.useState)(!1),K=(0,l.Z)(B,2),J=K[0],G=K[1],Q=(0,a.s0)();return(0,z.jsxs)(v.Fragment,{children:[(0,z.jsx)("div",{className:j,children:(0,z.jsxs)("div",{className:f,children:[(0,z.jsx)("img",{onClick:function(){var i;return Q("/"+$.Z.SESSION_PAGE+"/"+(null===Y||void 0===Y||null===(i=Y.tbl_session)||void 0===i?void 0:i.pk_ses_key),{state:{selectedTab:H}})},alt:"left-icon",src:s.Ok}),(0,z.jsxs)("div",{className:x,children:[(0,z.jsxs)("label",{children:[U," Session Plan"]}),(0,z.jsx)("span",{children:null===Y||void 0===Y||null===(e=Y.tbl_session)||void 0===e||null===(o=e.tbl_session_time)||void 0===o?void 0:o.sest_type})]})]})}),(0,z.jsxs)("div",{className:w,children:[(0,z.jsxs)("div",{className:I,children:[(0,z.jsxs)("div",{className:g,children:[(0,z.jsx)("label",{children:null===Y||void 0===Y||null===(n=Y.tbl_session)||void 0===n||null===(t=n.tbl_session_time)||void 0===t?void 0:t.sest_name}),(0,z.jsx)("p",{children:null===Y||void 0===Y||null===(c=Y.tbl_session)||void 0===c||null===(r=c.tbl_session_time)||void 0===r?void 0:r.sest_type})]}),(0,z.jsxs)("div",{id:P,className:D,children:[(0,z.jsxs)("span",{children:[d()(null===Y||void 0===Y||null===(_=Y.tbl_session)||void 0===_?void 0:_.ses_date).format("DD MMM YYYY")," ","(",null!==Y&&void 0!==Y&&null!==(m=Y.tbl_session)&&void 0!==m&&null!==(y=m.tbl_session_time)&&void 0!==y&&y.sest_day?(0,F.hJ)(null===Y||void 0===Y||null===(h=Y.tbl_session)||void 0===h||null===(k=h.tbl_session_time)||void 0===k?void 0:k.sest_day):"-",")"]}),(0,z.jsxs)("p",{children:[null!==Y&&void 0!==Y&&null!==(b=Y.tbl_session)&&void 0!==b&&b.ses_start_time?(0,F.hK)(null===Y||void 0===Y||null===(p=Y.tbl_session)||void 0===p?void 0:p.ses_start_time):""," ","-"," ",null!==Y&&void 0!==Y&&null!==(N=Y.tbl_session)&&void 0!==N&&N.ses_end_time?(0,F.hK)(null===Y||void 0===Y||null===(S=Y.tbl_session)||void 0===S?void 0:S.ses_end_time):""," ","(",null!==Y&&void 0!==Y&&null!==(L=Y.tbl_session)&&void 0!==L&&L.ses_start_time&&null!==Y&&void 0!==Y&&null!==(T=Y.tbl_session)&&void 0!==T&&T.ses_end_time?(0,ni.w)(null===Y||void 0===Y||null===(A=Y.tbl_session)||void 0===A?void 0:A.ses_start_time,null===Y||void 0===Y||null===(Z=Y.tbl_session)||void 0===Z?void 0:Z.ses_end_time):"-",")"]})]})]}),(0,z.jsxs)("div",{onClick:function(){return O(!0)},style:{cursor:"pointer"},className:I,children:[(0,z.jsx)("img",{alt:"user-icon",src:J?s.wO:null===Y||void 0===Y||null===(E=Y.tbl_student)||void 0===E?void 0:E.st_avatar,onError:function(){G(!0)}}),(0,z.jsxs)("div",{className:D,children:[(0,z.jsxs)("label",{style:{cursor:"pointer"},children:[null===Y||void 0===Y||null===(V=Y.tbl_student)||void 0===V?void 0:V.st_first_name," ",null===Y||void 0===Y||null===(C=Y.tbl_student)||void 0===C?void 0:C.st_surname]}),(0,z.jsxs)("p",{children:[null===Y||void 0===Y||null===(M=Y.tbl_student)||void 0===M?void 0:M.st_year_level," ."," ",null===Y||void 0===Y||null===(q=Y.tbl_student)||void 0===q||null===(R=q.tbl_school)||void 0===R?void 0:R.sc_name]})]})]})]})]})},ui=o(99815),ai=o(45733),ci=function(i){var e,o,n,t,c,r,_,m,y,h,k,b,p,N,S,L,T,A,Z,E,V,C,M,q,R,O=i.setModalForStudentDetails,U=i.typePlan,H=i.selectedTab,Y=(0,u.v9)((function(i){return i.session})).editLessonPlan,B=(0,v.useState)(!1),K=(0,l.Z)(B,2),J=K[0],G=K[1],Q=(0,a.s0)();return(0,z.jsxs)(v.Fragment,{children:[(0,z.jsx)("div",{className:j,children:(0,z.jsxs)("div",{className:f,children:[(0,z.jsx)("img",{onClick:function(){var i;return Q("/"+$.Z.SESSION_PAGE+"/"+(null===Y||void 0===Y||null===(i=Y.tbl_session)||void 0===i?void 0:i.pk_ses_key),{state:{selectedTab:H,isReschedule:!0}})},alt:"left-icon",src:s.Ok}),(0,z.jsxs)("div",{className:x,children:[(0,z.jsxs)("label",{children:[U," Session Plan"]}),(0,z.jsx)("span",{children:null===Y||void 0===Y||null===(e=Y.tbl_session)||void 0===e||null===(o=e.tbl_session_time)||void 0===o?void 0:o.sest_type})]})]})}),(0,z.jsxs)("div",{className:w,children:[(0,z.jsxs)("div",{className:I,children:[(0,z.jsxs)("div",{className:g,children:[(0,z.jsx)("label",{children:null===Y||void 0===Y||null===(n=Y.tbl_session)||void 0===n||null===(t=n.tbl_session_time)||void 0===t?void 0:t.sest_name}),(0,z.jsx)("p",{children:null===Y||void 0===Y||null===(c=Y.tbl_session)||void 0===c||null===(r=c.tbl_session_time)||void 0===r?void 0:r.sest_type})]}),(0,z.jsxs)("div",{id:P,className:D,children:[(0,z.jsxs)("span",{children:[d()(null===Y||void 0===Y||null===(_=Y.tbl_session)||void 0===_?void 0:_.ses_date).format("DD MMM YYYY")," ","(",null!==Y&&void 0!==Y&&null!==(m=Y.tbl_session)&&void 0!==m&&null!==(y=m.tbl_session_time)&&void 0!==y&&y.sest_day?(0,F.hJ)(null===Y||void 0===Y||null===(h=Y.tbl_session)||void 0===h||null===(k=h.tbl_session_time)||void 0===k?void 0:k.sest_day):"-",")"]}),(0,z.jsxs)("p",{children:[null!==Y&&void 0!==Y&&null!==(b=Y.tbl_session)&&void 0!==b&&b.ses_start_time?(0,F.hK)(null===Y||void 0===Y||null===(p=Y.tbl_session)||void 0===p?void 0:p.ses_start_time):""," ","-"," ",null!==Y&&void 0!==Y&&null!==(N=Y.tbl_session)&&void 0!==N&&N.ses_end_time?(0,F.hK)(null===Y||void 0===Y||null===(S=Y.tbl_session)||void 0===S?void 0:S.ses_end_time):""," ","(",null!==Y&&void 0!==Y&&null!==(L=Y.tbl_session)&&void 0!==L&&L.ses_start_time&&null!==Y&&void 0!==Y&&null!==(T=Y.tbl_session)&&void 0!==T&&T.ses_end_time?(0,ni.w)(null===Y||void 0===Y||null===(A=Y.tbl_session)||void 0===A?void 0:A.ses_start_time,null===Y||void 0===Y||null===(Z=Y.tbl_session)||void 0===Z?void 0:Z.ses_end_time):"-",")"]})]})]}),(0,z.jsxs)("div",{onClick:function(){return O(!0)},style:{cursor:"pointer"},className:I,children:[(0,z.jsx)("img",{alt:"user-icon",src:J?s.wO:null===Y||void 0===Y||null===(E=Y.tbl_student)||void 0===E?void 0:E.st_avatar,onError:function(){G(!0)}}),(0,z.jsxs)("div",{className:D,children:[(0,z.jsxs)("label",{style:{cursor:"pointer"},children:[null===Y||void 0===Y||null===(V=Y.tbl_student)||void 0===V?void 0:V.st_first_name," ",null===Y||void 0===Y||null===(C=Y.tbl_student)||void 0===C?void 0:C.st_surname]}),(0,z.jsxs)("p",{children:[null===Y||void 0===Y||null===(M=Y.tbl_student)||void 0===M?void 0:M.st_year_level," ."," ",null===Y||void 0===Y||null===(q=Y.tbl_student)||void 0===q||null===(R=q.tbl_school)||void 0===R?void 0:R.sc_name]})]})]})]})]})},ri=function(i){var e=i.title,o=i.desc,l=i.activity_list,n=i.type,t=i.duration,d=i.setViewReport,v=(i.subject_id,i.locationParams),a=i.yearId,c=i.handleActivityDelete,r=(0,u.v9)((function(i){return i.session})),_=r.previousPlan,m=r.editLessonPlan;return(0,z.jsxs)("div",{className:E,children:[(0,z.jsx)("label",{children:(0,z.jsx)("b",{children:e})}),(0,z.jsx)("p",{children:o}),(0,z.jsx)("div",{className:V}),(0,z.jsxs)("div",{className:I,children:[(0,z.jsxs)("div",{className:M,children:[(0,z.jsx)("img",{alt:"coin-icon",src:s.e2}),(0,z.jsx)("label",{children:0===(0,Q.Z)(l)?0:"".concat(n&&null!==_&&void 0!==_&&_.homework_coins_earned?null===_||void 0===_?void 0:_.homework_coins_earned:!n&&null!==_&&void 0!==_&&_.lesson_coins_earned?null===_||void 0===_?void 0:_.lesson_coins_earned:0,"/").concat((0,Q.Z)(l))})]}),(0,z.jsxs)("div",{className:M,children:[(0,z.jsx)("img",{alt:"clock-icon",src:s.SU}),(0,z.jsx)("label",{children:t?"".concat(t):null})]})]}),(0,z.jsx)("div",{children:(0,z.jsx)("label",{className:1===(0,F.lR)(l)?b:0===(0,F.lR)(l)?k:h,children:(0,F.U6)(l,n,null===_||void 0===_?void 0:_.ses_status)})}),(null===l||void 0===l?void 0:l.length)>0&&1===(0,F.lR)(l)&&(0,z.jsxs)("button",{onClick:function(){return d(!0)},className:q,children:["View ",n?"homework":"lesson"," report"]}),null===l||void 0===l?void 0:l.map((function(i,e){return(0,z.jsx)(J.Z,{handleActivityDelete:c,subject_id:+(null===i||void 0===i?void 0:i.fk_sub_id),type:4,values:i,handlePreview:function(){!function(i,e,o){var l=0===+e?"assessment":1===+e?"videos":5===+e?"worksheets":3===+e?"link":4===+e?"task":2===+e?"diagnostic":"",s="".concat("http://tutor.dev.mygooroo.io","/").concat($.Z.EDIT_LESSON_PLAN,"/").concat(null===m||void 0===m?void 0:m.pk_lesson_key,"?is_homework=").concat(n,"&sessionId=").concat(null===v||void 0===v?void 0:v.sessionId,"&studentId=").concat(null===v||void 0===v?void 0:v.studentId,"&subjectId=").concat(null===v||void 0===v?void 0:v.subjectId,"&yearId=").concat(a,"&typePlan=").concat(null===v||void 0===v?void 0:v.typePlan,"&selectedTab=").concat(null===v||void 0===v?void 0:v.selectedTab,"&isReschedule=true"),t="".concat("https://student.dev.mygooroo.io","/").concat(l,"/").concat(i),d={studentID:null===v||void 0===v?void 0:v.studentId,subjectID:+o,isActivityPage:!1,activityNodeId:i,redirectUrl:s,tutorToken:G.Z.get(G.e.TOKEN)};G.Z.setStudent(G.e.STUDENT_DATA,JSON.stringify(d)),console.log({studentData:d,url:t}),window.open(t,"_self")}(null===i||void 0===i?void 0:i.pk_lesson_activity_key,null===i||void 0===i?void 0:i.activity_type,+(null===i||void 0===i?void 0:i.fk_sub_id))},handleMarkView:function(){!function(i,e,o){var l=5===+e?"worksheets":0===+e?"manual-marking":"",s="".concat("http://tutor.dev.mygooroo.io","/").concat($.Z.EDIT_LESSON_PLAN,"/").concat(null===m||void 0===m?void 0:m.pk_lesson_key,"?is_homework=").concat(n,"&sessionId=").concat(null===v||void 0===v?void 0:v.sessionId,"&studentId=").concat(null===v||void 0===v?void 0:v.studentId,"&subjectId=").concat(o,"&yearId=").concat(a,"&typePlan=").concat(null===v||void 0===v?void 0:v.typePlan,"&selectedTab=").concat(null===v||void 0===v?void 0:v.selectedTab,"&isReschedule=true"),t="".concat("https://student.dev.mygooroo.io","/").concat(l,"/").concat(i),d={studentID:null===v||void 0===v?void 0:v.studentId,subjectID:+o,redirectUrl:s,tutorToken:G.Z.get(G.e.TOKEN)};G.Z.setStudent(G.e.STUDENT_DATA,JSON.stringify(d)),console.log({url:t}),window.open(t,"_self")}(null===i||void 0===i?void 0:i.pk_lesson_activity_key,null===i||void 0===i?void 0:i.activity_type,+(null===i||void 0===i?void 0:i.fk_sub_id))}},e)}))]})},_i=function(i){var e,o,n,t,a,_,m,y,h,k,b,p,j,f,x,w,P,S,V,C,q,R,O,U,Y,K,W,ii,si,di,vi,ui,ai,ci,ri,_i,mi=i.title,yi=i.type,hi=i.data,ki=i.setData,bi=i.locationParams,pi=i.navigate,ji=i.setBtnDisable,fi=i.handleActivityDelete,xi=i.getValues,wi=i.yearId,Ii=i.setUpdate,gi=(0,u.v9)((function(i){return i.session})),Di=gi.editLessonPlan,Pi=gi.lessonPlan,Ni=(0,v.useState)((function(){return{type:"",is_homework:"",activityId:""}})),Si=(0,l.Z)(Ni,2),Li=Si[0],Ti=Si[1],Ai=(0,v.useCallback)((function(){0===+yi&&1===+(null===Pi||void 0===Pi?void 0:Pi.ses_is_completed)?c.Am.error("Session is already completed"):pi("/"+$.Z.ADD_ACTIVITY,{state:{isReschedule:!0,sessionID:null===bi||void 0===bi?void 0:bi.sessionId,studentID:null===bi||void 0===bi?void 0:bi.studentId,subjectID:null===bi||void 0===bi?void 0:bi.subjectId,yearID:wi,is_homework:yi,typePlan:null===bi||void 0===bi?void 0:bi.typePlan,selectedTabEditSession:+(null===bi||void 0===bi?void 0:bi.selectedTab)||+(null===bi||void 0===bi?void 0:bi.selectedTabEditSession),lesson_key:null===Di||void 0===Di?void 0:Di.pk_lesson_key}})}),[pi,wi,yi,bi]),Zi=null!==Di&&void 0!==Di&&Di.LessonActivities?null===Di||void 0===Di?void 0:Di.LessonActivities:[];Zi=null===(e=Zi)||void 0===e?void 0:e.filter((function(i){return yi?null===i||void 0===i?void 0:i.marked_for_homework:!(null!==i&&void 0!==i&&i.marked_for_homework)}));var Ei=function(i){return i.child},Vi=(0,u.I0)(),Ci=function(i,e,o){var l=0===+e?"assessment":1===+e?"videos":5===+e?"worksheets":3===+e?"link":4===+e?"task":2===+e?"diagnostic":6===+e?"videos":7===+e?"lcms-worksheets":"",n="".concat("http://tutor.dev.mygooroo.io","/").concat($.Z.EDIT_LESSON_PLAN,"/").concat(null===Di||void 0===Di?void 0:Di.pk_lesson_key,"?is_homework=").concat(yi,"&sessionId=").concat(null===bi||void 0===bi?void 0:bi.sessionId,"&studentId=").concat(null===bi||void 0===bi?void 0:bi.studentId,"&subjectId=").concat(o,"&yearId=").concat(wi,"&typePlan=").concat(null===bi||void 0===bi?void 0:bi.typePlan,"&selectedTab=").concat(null===bi||void 0===bi?void 0:bi.selectedTab,"&isReschedule=true"),s=6===+e?"".concat("https://student.dev.mygooroo.io","/").concat(l,"/").concat(i,"?type=").concat(e,"&subject_id=").concat(o):7===+e?"".concat("https://student.dev.mygooroo.io","/").concat(l,"/").concat(i,"?subject_id=").concat(o):"".concat("https://student.dev.mygooroo.io","/").concat(l,"/").concat(i),t={studentID:null===bi||void 0===bi?void 0:bi.studentId,subjectID:+o,isActivityPage:!1,activityNodeId:i,redirectUrl:n,tutorToken:G.Z.get(G.e.TOKEN)};G.Z.setStudent(G.e.STUDENT_DATA,JSON.stringify(t)),console.log({studentData:t,url:s}),window.open(s,"_self")},Mi=function(){var i,e,o,l,n,s,t,d,v,u,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",_=0===+(null===a||void 0===a?void 0:a.activity_type),m=[7===a.activity_type?{activity_node_id:null===a||void 0===a||null===(i=a.workSheet)||void 0===i?void 0:i.id,type:+(null===a||void 0===a?void 0:a.activity_type),topic_id:null===a||void 0===a||null===(e=a.workSheet)||void 0===e?void 0:e.topic_id,subject_id:null===a||void 0===a||null===(o=a.workSheet)||void 0===o?void 0:o.subject_id,is_homework:null===a||void 0===a?void 0:a.marked_for_homework}:6===a.activity_type?{activity_node_id:null===a||void 0===a||null===(l=a.activity_node)||void 0===l?void 0:l.activity_node_id,type:+(null===a||void 0===a?void 0:a.activity_type),topic_id:null===a||void 0===a?void 0:a.activity_node.topic_id,subject_id:+(null===a||void 0===a?void 0:a.fk_sub_id),is_homework:null===a||void 0===a?void 0:a.marked_for_homework}:{activity_node_id:_?null===a||void 0===a||null===(n=a.activity_node)||void 0===n?void 0:n.activity_node_id:null===a||void 0===a||null===(s=a.library_item)||void 0===s?void 0:s.pk_tutor_library_item_id,type:+(null===a||void 0===a?void 0:a.activity_type),topic_id:_?null===a||void 0===a||null===(t=a.activity_node)||void 0===t||null===(d=t.activityLevelHasTopicNode)||void 0===d?void 0:d.topic_id:null===a||void 0===a||null===(v=a.library_item)||void 0===v||null===(u=v.activity_master_topic)||void 0===u?void 0:u.activity_topic_id,subject_id:+(null===a||void 0===a?void 0:a.fk_sub_id),is_homework:null===a||void 0===a?void 0:a.marked_for_homework}],y={subject_id:+(null===a||void 0===a?void 0:a.fk_sub_id),student_key:null===bi||void 0===bi?void 0:bi.studentId,session_key:null===bi||void 0===bi?void 0:bi.sessionId,lesson_key:null===Di||void 0===Di?void 0:Di.pk_lesson_key,activities:m,is_homework:null===a||void 0===a?void 0:a.marked_for_homework};Vi((0,r.Jl)(y)).then((function(i){var e;200===(null===i||void 0===i||null===(e=i.payload)||void 0===e?void 0:e.statusCode)&&(xi(),c.Am.success("Activity repeated successfully..."))}))},qi=function(i,e,o){var l=5===+e?"worksheets":0===+e?"manual-marking":7===+e?"lcms-worksheets":"",n="".concat("http://tutor.dev.mygooroo.io","/").concat($.Z.EDIT_LESSON_PLAN,"/").concat(null===Di||void 0===Di?void 0:Di.pk_lesson_key,"?is_homework=").concat(yi,"&sessionId=").concat(null===bi||void 0===bi?void 0:bi.sessionId,"&studentId=").concat(null===bi||void 0===bi?void 0:bi.studentId,"&subjectId=").concat(o,"&yearId=").concat(wi,"&typePlan=").concat(null===bi||void 0===bi?void 0:bi.typePlan,"&selectedTab=").concat(null===bi||void 0===bi?void 0:bi.selectedTab,"&isReschedule=true"),s=7===+e?"".concat("https://student.dev.mygooroo.io","/").concat(l,"/").concat(i,"?subject_id=").concat(o):"".concat("https://student.dev.mygooroo.io","/").concat(l,"/").concat(i),t={studentID:null===bi||void 0===bi?void 0:bi.studentId,subjectID:+o,redirectUrl:n,manual:!0,tutorToken:G.Z.get(G.e.TOKEN)};G.Z.setStudent(G.e.STUDENT_DATA,JSON.stringify(t)),console.log({studentData:t,url:s}),window.open(s,"_self")},Ri=function(){var i;return!(!+(null===Di||void 0===Di||null===(i=Di.tbl_session)||void 0===i?void 0:i.ses_is_completed)||0!==yi)};return(0,z.jsx)("div",{className:0===+yi&&1===+(null===Di||void 0===Di||null===(o=Di.tbl_session)||void 0===o?void 0:o.ses_is_completed)?ti()(L,"pe-none"):L,children:(0,z.jsxs)("div",{className:A,children:[(0,z.jsx)("label",{className:Z,children:mi}),(0,z.jsx)("span",{children:"Message from tutor"}),(0,z.jsx)("textarea",{disabled:Ri(),value:0===yi?null===hi||void 0===hi?void 0:hi.lesson_desc:null===hi||void 0===hi?void 0:hi.homework_desc,cols:3,onChange:function(i){return function(i){0===yi?(ki((function(e){return(0,X.Z)((0,X.Z)({},e),{},{lesson_desc:i.target.value})})),Ii(!1)):(ki((function(e){return(0,X.Z)((0,X.Z)({},e),{},{homework_desc:i.target.value})})),Ii(!1)),ji(!1)}(i)},children:0===yi?null===hi||void 0===hi?void 0:hi.lesson_desc:null===hi||void 0===hi?void 0:hi.homework_desc}),(0,z.jsxs)("div",{className:I,children:[(0,z.jsxs)("div",{className:M,children:[(0,z.jsx)("img",{alt:"coin-icon",src:s.e2}),(0,z.jsx)("label",{children:0===(null===(n=Zi)||void 0===n?void 0:n.length)?"-":(0,Q.Z)(Zi)>0?"".concat(yi&&null!==Di&&void 0!==Di&&Di.homework_coins_earned?null===Di||void 0===Di?void 0:Di.homework_coins_earned:!yi&&null!==Di&&void 0!==Di&&Di.lesson_coins_earned?null===Di||void 0===Di?void 0:Di.lesson_coins_earned:0,"/").concat((0,Q.Z)(Zi)):0})]}),(0,z.jsxs)("div",{className:M,children:[(0,z.jsx)("img",{alt:"clock-icon",src:s.SU}),(0,z.jsx)("label",{children:yi?null!==Di&&void 0!==Di&&Di.totalHomeworkDuration?(0,li.g)(null===Di||void 0===Di?void 0:Di.totalHomeworkDuration):"-":null!==Di&&void 0!==Di&&Di.totalLessonDuration?(0,li.g)(null===Di||void 0===Di?void 0:Di.totalLessonDuration):"-"})]})]}),(0,z.jsxs)("div",{className:I,children:[(0,z.jsxs)("div",{className:g,children:[(0,z.jsx)("label",{id:T,children:null===Di||void 0===Di||null===(t=Di.tbl_session)||void 0===t||null===(a=t.tbl_session_time)||void 0===a?void 0:a.sest_name}),(0,z.jsx)("p",{children:null===Di||void 0===Di||null===(_=Di.tbl_session)||void 0===_||null===(m=_.tbl_session_time)||void 0===m?void 0:m.sest_type})]}),(0,z.jsxs)("div",{className:D,children:[(0,z.jsxs)("span",{id:N,children:[null!==Di&&void 0!==Di&&null!==(y=Di.tbl_session)&&void 0!==y&&y.ses_date?d()(null===Di||void 0===Di||null===(h=Di.tbl_session)||void 0===h?void 0:h.ses_date).format("DD MMM YYYY"):""," ","(",null!==Di&&void 0!==Di&&null!==(k=Di.tbl_session)&&void 0!==k&&null!==(b=k.tbl_session_time)&&void 0!==b&&b.sest_day?(0,F.hJ)(null===Di||void 0===Di||null===(p=Di.tbl_session)||void 0===p||null===(j=p.tbl_session_time)||void 0===j?void 0:j.sest_day):"-",")"]}),(0,z.jsxs)("p",{children:[null!==Di&&void 0!==Di&&null!==(f=Di.tbl_session)&&void 0!==f&&null!==(x=f.tbl_session_time)&&void 0!==x&&x.sest_start_time?(0,F.hK)(null===Di||void 0===Di||null===(w=Di.tbl_session)||void 0===w||null===(P=w.tbl_session_time)||void 0===P?void 0:P.sest_start_time):""," ","-"," ",null!==Di&&void 0!==Di&&null!==(S=Di.tbl_session)&&void 0!==S&&null!==(V=S.tbl_session_time)&&void 0!==V&&V.sest_end_time?(0,F.hK)(null===Di||void 0===Di||null===(C=Di.tbl_session)||void 0===C||null===(q=C.tbl_session_time)||void 0===q?void 0:q.sest_end_time):""," ","(",null!==Di&&void 0!==Di&&null!==(R=Di.tbl_session)&&void 0!==R&&null!==(O=R.tbl_session_time)&&void 0!==O&&O.sest_start_time&&null!==Di&&void 0!==Di&&null!==(U=Di.tbl_session)&&void 0!==U&&null!==(Y=U.tbl_session_time)&&void 0!==Y&&Y.sest_end_time?(0,ni.w)(null===Di||void 0===Di||null===(K=Di.tbl_session)||void 0===K||null===(W=K.tbl_session_time)||void 0===W?void 0:W.sest_start_time,null===Di||void 0===Di||null===(ii=Di.tbl_session)||void 0===ii||null===(si=ii.tbl_session_time)||void 0===si?void 0:si.sest_end_time):"-",")"]})]})]}),(0,z.jsxs)("div",{className:E,children:[(0,z.jsxs)("div",{className:H,children:[0===yi?null!==hi&&void 0!==hi&&hi.lesson_sequential?(0,z.jsx)("img",{alt:"sequential-icon",src:s.V$}):(0,z.jsx)("img",{alt:"random-icon",src:s.u4}):null!==hi&&void 0!==hi&&hi.homework_sequential?(0,z.jsx)("img",{alt:"sequential-icon",src:s.V$}):(0,z.jsx)("img",{alt:"random-icon",src:s.u4}),(0,z.jsx)("label",{children:0===yi?null!==hi&&void 0!==hi&&hi.lesson_sequential?"Sequential":"Random":null!==hi&&void 0!==hi&&hi.homework_sequential?"Sequential":"Random"}),(0,z.jsx)(oi.Z,{disabled:Ri(),height:15,width:30,onColor:"#4D4D4D",onChange:function(){ki(0===yi?function(i){return(0,X.Z)((0,X.Z)({},i),{},{lesson_sequential:!(null!==i&&void 0!==i&&i.lesson_sequential)})}:function(i){return(0,X.Z)((0,X.Z)({},i),{},{homework_sequential:!(null!==i&&void 0!==i&&i.homework_sequential)})}),Ii(!1),ji(!1)},checked:0===yi?null===hi||void 0===hi?void 0:hi.lesson_sequential:null===hi||void 0===hi?void 0:hi.homework_sequential})]}),(0,z.jsx)("div",{className:B,onClick:Ai,children:(0,z.jsx)("label",{children:"Add New Activity"})}),(0,z.jsxs)("div",{className:I,children:[(0,z.jsxs)("div",{className:M,children:[(0,z.jsx)("img",{alt:"coin-icon",src:s.e2}),(0,z.jsxs)("label",{children:[" ",0===(null===(di=Zi)||void 0===di?void 0:di.length)?"-":(0,Q.Z)(Zi)>0?"\n                  ".concat(yi&&null!==Di&&void 0!==Di&&Di.homework_coins_earned?null===Di||void 0===Di?void 0:Di.homework_coins_earned:!yi&&null!==Di&&void 0!==Di&&Di.lesson_coins_earned?null===Di||void 0===Di?void 0:Di.lesson_coins_earned:0,"/").concat((0,Q.Z)(Zi)):0]})]}),(0,z.jsxs)("div",{className:M,children:[(0,z.jsx)("img",{alt:"clock-icon",src:s.SU}),(0,z.jsx)("label",{children:yi?null!==Di&&void 0!==Di&&Di.totalHomeworkDuration?(0,li.g)(null===Di||void 0===Di?void 0:Di.totalHomeworkDuration):"-":null!==Di&&void 0!==Di&&Di.totalLessonDuration?(0,li.g)(null===Di||void 0===Di?void 0:Di.totalLessonDuration):"-"})]})]}),yi?null!==hi&&void 0!==hi&&hi.homework_sequential?null===Di||void 0===Di||null===(ci=Di.LessonActivities)||void 0===ci||null===(ri=ci.filter((function(i){return null===i||void 0===i?void 0:i.marked_for_homework})))||void 0===ri?void 0:ri.map((function(i,e){return(0,z.jsx)(J.Z,{lesson_key:null===Di||void 0===Di?void 0:Di.pk_lesson_key,subject_id:+(null===i||void 0===i?void 0:i.fk_sub_id),type:3,values:i,redirectHandler:Ai,setActivityType:Ti,activityType:Li,handleActivityDelete:fi,sessionID:null===bi||void 0===bi?void 0:bi.sessionId,studentID:null===bi||void 0===bi?void 0:bi.studentId,getValues:xi,handlePreview:function(){Ci(null===i||void 0===i?void 0:i.pk_lesson_activity_key,null===i||void 0===i?void 0:i.activity_type,+(null===i||void 0===i?void 0:i.fk_sub_id))},handleRepeat:Mi,handleMarkView:function(){qi(null===i||void 0===i?void 0:i.pk_lesson_activity_key,null===i||void 0===i?void 0:i.activity_type,+(null===i||void 0===i?void 0:i.fk_sub_id))}},e)})):(0,z.jsx)(Ei,{child:(0,z.jsx)(ei,{dispatch:Vi,lesson_key:null===Di||void 0===Di?void 0:Di.pk_lesson_key,subject_id:+(null===bi||void 0===bi?void 0:bi.subjectId),redirectHandler:Ai,handleActivityDelete:fi,activity_list:Di?null===Di||void 0===Di||null===(_i=Di.LessonActivities)||void 0===_i?void 0:_i.filter((function(i){return null===i||void 0===i?void 0:i.marked_for_homework})):[],sessionID:null===bi||void 0===bi?void 0:bi.sessionId,studentID:null===bi||void 0===bi?void 0:bi.studentId,setActivityType:Ti,activityType:Li,getValues:xi,handlePreview:function(i,e,o){return Ci(i,e,o)},handleRepeat:Mi,handleMarkView:qi},"ii-".concat(Di))}):null!==hi&&void 0!==hi&&hi.lesson_sequential?null===Di||void 0===Di||null===(vi=Di.LessonActivities)||void 0===vi||null===(ui=vi.filter((function(i){return!(null!==i&&void 0!==i&&i.marked_for_homework)})))||void 0===ui?void 0:ui.map((function(i,e){return(0,z.jsx)(J.Z,{lesson_key:null===Di||void 0===Di?void 0:Di.pk_lesson_key,subject_id:+(null===i||void 0===i?void 0:i.fk_sub_id),type:3,values:i,redirectHandler:Ai,handleActivityDelete:fi,sessionID:null===bi||void 0===bi?void 0:bi.sessionId,studentID:null===bi||void 0===bi?void 0:bi.studentId,setActivityType:Ti,activityType:Li,getValues:xi,handlePreview:function(){Ci(null===i||void 0===i?void 0:i.pk_lesson_activity_key,null===i||void 0===i?void 0:i.activity_type,+(null===i||void 0===i?void 0:i.fk_sub_id))},handleRepeat:Mi,handleMarkView:function(){return qi(null===i||void 0===i?void 0:i.pk_lesson_activity_key,null===i||void 0===i?void 0:i.activity_type,+(null===i||void 0===i?void 0:i.fk_sub_id))}},e)})):(0,z.jsx)(Ei,{child:(0,z.jsx)(ei,{dispatch:Vi,lesson_key:null===Di||void 0===Di?void 0:Di.pk_lesson_key,subject_id:null===bi||void 0===bi?void 0:bi.subjectId,redirectHandler:Ai,handleActivityDelete:fi,activity_list:Di?null===Di||void 0===Di||null===(ai=Di.LessonActivities)||void 0===ai?void 0:ai.filter((function(i){return!(null!==i&&void 0!==i&&i.marked_for_homework)})):[],sessionID:null===bi||void 0===bi?void 0:bi.sessionId,studentID:null===bi||void 0===bi?void 0:bi.studentId,setActivityType:Ti,activityType:Li,getValues:xi,handlePreview:function(i,e,o){return Ci(i,e,o)},handleRepeat:Mi,handleMarkView:qi},"ii-".concat(Di))})]})]})})},mi=o(268),yi=function(){var i,e,o,t,h,k,b,j,f,x,w,P,T,E,V,M,q,H,B,J,G,Q,X,ii,ei,oi,si,ti,yi,hi,ki,bi,pi,ji,fi,xi,wi,Ii,gi,Di,Pi,Ni,Si,Li,Ti,Ai,Zi=(0,v.useState)(!1),Ei=(0,l.Z)(Zi,2),Vi=Ei[0],Ci=Ei[1],Mi=(0,v.useState)(!1),qi=(0,l.Z)(Mi,2),Ri=qi[0],Oi=qi[1],Ui=(0,v.useState)(!1),Hi=(0,l.Z)(Ui,2),Yi=Hi[0],Bi=Hi[1],Ki=(0,u.v9)((function(i){return i.session})),Ji=Ki.editLessonPlan,Fi=Ki.previousPlan,Gi=(0,v.useState)(0),$i=(0,l.Z)(Gi,2),Qi=$i[0],zi=$i[1],Wi=(0,v.useState)(!1),Xi=(0,l.Z)(Wi,2),ie=Xi[0],ee=Xi[1],oe=(0,v.useState)(!1),le=(0,l.Z)(oe,2),ne=le[0],se=le[1],te=(0,v.useState)(!0),de=(0,l.Z)(te,2),ve=de[0],ue=de[1],ae=(0,v.useState)(!1),ce=(0,l.Z)(ae,2),re=ce[0],_e=ce[1],me=(0,v.useState)({lesson_desc:"",homework_desc:"",lesson_sequential:!0,homework_sequential:!0}),ye=(0,l.Z)(me,2),he=ye[0],ke=ye[1],be=(0,u.v9)((function(i){return i.session.studentDetails})),pe=be.pastSession,je=be.pastSession_sortOrder,fe=be.pastSession_sortField,xe=be.pastSessionLoading,we=(0,a.s0)(),Ie=(0,a.TH)(),ge=(0,a.UO)(),De=(0,u.I0)(),Pe=(0,v.useMemo)((function(){return(null===ai.Z||void 0===ai.Z?void 0:ai.Z.parse(Ie.search))||{}}),[Ie.search]),Ne=(null===Ie||void 0===Ie?void 0:Ie.state)||Pe,Se=(null===Ie||void 0===Ie||null===(i=Ie.state)||void 0===i?void 0:i.isReschedule)||"true"===(null===Pe||void 0===Pe?void 0:Pe.isReschedule)?1:0,Le=function(i,e){var o=[];o.push(e);var l={lesson_key:null===Ji||void 0===Ji?void 0:Ji.pk_lesson_key,activities:o};De((0,r.cC)(l)).then((function(i){var e;200===(null===i||void 0===i||null===(e=i.payload)||void 0===e?void 0:e.statusCode)&&(c.Am.success("Deleted Successfully"),Te(),Ae(ne?2:3))}))},Te=(0,v.useCallback)((function(){if(ge&&Ne){var i={session_id:null===Ne||void 0===Ne?void 0:Ne.sessionId,student_id:null===Ne||void 0===Ne?void 0:Ne.studentId,type:0};De((0,r.CH)(i))}}),[De,Ne,ge]);(0,v.useEffect)((function(){if(Te(),null!==Ne&&void 0!==Ne&&Ne.studentId){var i={pk_student_key:null===Ne||void 0===Ne?void 0:Ne.studentId,sort_by:fe,sort_order:je};De((0,r.ep)(i))}}),[Te,je,fe]);var Ae=(0,v.useCallback)((function(i){var e={session_id:null===Ne||void 0===Ne?void 0:Ne.sessionId,student_id:null===Ne||void 0===Ne?void 0:Ne.studentId,type:i};De((0,r.uC)(e)).then((function(e){se(2===i),ee(3===i)}))}),[De,Ne]);(0,v.useEffect)((function(){Ae(2)}),[Ae]),(0,v.useEffect)((function(){Ji&&ke({lesson_desc:null!==Ji&&void 0!==Ji&&Ji.description?null===Ji||void 0===Ji?void 0:Ji.description:"",homework_desc:null!==Ji&&void 0!==Ji&&Ji.homework_description?null===Ji||void 0===Ji?void 0:Ji.homework_description:"",lesson_sequential:Boolean(null===Ji||void 0===Ji?void 0:Ji.is_lesson_sequential),homework_sequential:Boolean(null===Ji||void 0===Ji?void 0:Ji.is_homework_sequential)})}),[Ji]);var Ze=function(i){var e;zi(1===i?0:1);var o={is_homework:1===i?0:2===i&&1,lesson_key:null===Fi||void 0===Fi?void 0:Fi.pk_lesson_key,student_key:null===Fi||void 0===Fi||null===(e=Fi.tbl_student)||void 0===e?void 0:e.pk_student_key};Fi&&De((0,r.IZ)(o)).then((function(i){var e;200===(null===i||void 0===i||null===(e=i.payload)||void 0===e?void 0:e.statusCode)&&Ci(!0)}))};return(0,z.jsxs)("div",{className:p,children:[Se?(0,z.jsx)(ci,{typePlan:null===Ne||void 0===Ne?void 0:Ne.typePlan,selectedTab:(null===Ne||void 0===Ne?void 0:Ne.selectedTab)||+(null===Ne||void 0===Ne?void 0:Ne.selectedTabEditSession),setModalForStudentDetails:Oi}):(0,z.jsx)(vi,{typePlan:null===Ne||void 0===Ne?void 0:Ne.typePlan,selectedTab:(null===Ne||void 0===Ne?void 0:Ne.selectedTab)||+(null===Ne||void 0===Ne?void 0:Ne.selectedTabEditSession),setModalForStudentDetails:Oi}),Ji?(0,z.jsxs)("div",{className:S,children:[(0,z.jsxs)("div",{className:L,children:[(0,z.jsxs)("div",{className:A,children:[(0,z.jsx)("label",{className:Z,children:ie?"Next session":"Past session"}),(0,z.jsxs)("div",{className:Y,children:[(0,z.jsx)("img",{onClick:function(){return Ae(2)},alt:"left-arrow-icon",src:s.OQ,style:ie?{}:{height:"0px",width:"0px"}}),(0,z.jsx)("label",{children:null!==Fi&&void 0!==Fi&&null!==(e=Fi.tbl_session)&&void 0!==e&&e.ses_date?d()(null===Fi||void 0===Fi||null===(o=Fi.tbl_session)||void 0===o?void 0:o.ses_date).format("DD MMM YYYY"):null}),(0,z.jsx)("img",{onClick:function(){return Ae(3)},alt:"right-arrow",src:s.xD,style:ne?{}:{height:"0px",width:"0px"}})]}),Fi&&(0,z.jsxs)(v.Fragment,{children:[(null===Fi||void 0===Fi||null===(t=Fi.tbl_student)||void 0===t||null===(h=t.tbl_session_attendances)||void 0===h?void 0:h.length)>0&&(0,ui.m)(null===Fi||void 0===Fi||null===(k=Fi.tbl_student)||void 0===k||null===(b=k.tbl_session_attendances[0])||void 0===b?void 0:b.attendance_status),(0,z.jsxs)("div",{className:I,children:[(0,z.jsxs)("div",{className:g,children:[(0,z.jsx)("label",{children:null===Fi||void 0===Fi||null===(j=Fi.tbl_session)||void 0===j||null===(f=j.tbl_session_time)||void 0===f?void 0:f.sest_name}),(0,z.jsx)("p",{children:null===Fi||void 0===Fi||null===(x=Fi.tbl_session)||void 0===x||null===(w=x.tbl_session_time)||void 0===w?void 0:w.sest_type})]}),(0,z.jsxs)("div",{className:D,children:[(0,z.jsxs)("span",{id:N,children:[null!==Fi&&void 0!==Fi&&null!==(P=Fi.tbl_session)&&void 0!==P&&P.ses_date?d()(null===Fi||void 0===Fi||null===(T=Fi.tbl_session)||void 0===T?void 0:T.ses_date).format("DD MMM YYYY"):""," ","(",null===Fi||void 0===Fi||null===(E=Fi.tbl_session)||void 0===E||null===(V=E.tbl_session_time)||void 0===V?void 0:V.sest_day,")"]}),(0,z.jsxs)("p",{children:[null!==Fi&&void 0!==Fi&&null!==(M=Fi.tbl_session)&&void 0!==M&&null!==(q=M.tbl_session_time)&&void 0!==q&&q.sest_start_time?(0,F.hK)(null===Fi||void 0===Fi||null===(H=Fi.tbl_session)||void 0===H||null===(B=H.tbl_session_time)||void 0===B?void 0:B.sest_start_time):""," ","-"," ",null!==Fi&&void 0!==Fi&&null!==(J=Fi.tbl_session)&&void 0!==J&&null!==(G=J.tbl_session_time)&&void 0!==G&&G.sest_end_time?(0,F.hK)(null===Fi||void 0===Fi||null===(Q=Fi.tbl_session)||void 0===Q||null===(X=Q.tbl_session_time)||void 0===X?void 0:X.sest_end_time):""," ","(",null!==Fi&&void 0!==Fi&&null!==(ii=Fi.tbl_session)&&void 0!==ii&&null!==(ei=ii.tbl_session_time)&&void 0!==ei&&ei.sest_start_time&&null!==Fi&&void 0!==Fi&&null!==(oi=Fi.tbl_session)&&void 0!==oi&&null!==(si=oi.tbl_session_time)&&void 0!==si&&si.sest_end_time?(0,ni.w)(null===Fi||void 0===Fi||null===(ti=Fi.tbl_session)||void 0===ti||null===(yi=ti.tbl_session_time)||void 0===yi?void 0:yi.sest_start_time,null===Fi||void 0===Fi||null===(hi=Fi.tbl_session)||void 0===hi||null===(ki=hi.tbl_session_time)||void 0===ki?void 0:ki.sest_end_time):"-"," ",")"]})]})]})]})]}),Fi?(0,z.jsxs)(v.Fragment,{children:[null!==Ie&&void 0!==Ie&&null!==(bi=Ie.state)&&void 0!==bi&&bi.isReschedule||"true"===(null===Pe||void 0===Pe?void 0:Pe.isReschedule)?(0,z.jsx)(ri,{subject_id:null===Ne||void 0===Ne?void 0:Ne.subjectId,title:"Lesson Plan",desc:null===Fi||void 0===Fi?void 0:Fi.description,activity_list:null!==Fi&&void 0!==Fi&&Fi.LessonActivities?null===Fi||void 0===Fi||null===(pi=Fi.LessonActivities)||void 0===pi?void 0:pi.filter((function(i){return!(null!==i&&void 0!==i&&i.marked_for_homework)})):[],type:0,duration:Fi?(0,li.g)(null===Fi||void 0===Fi?void 0:Fi.totalLessonDuration):"-",setViewReport:function(){return Ze(1)},locationParams:Ne,getValues:Te,yearId:null===Ji||void 0===Ji||null===(ji=Ji.tbl_student)||void 0===ji?void 0:ji.st_year_level,handleActivityDelete:function(i,e){return Le(0,e)}}):(0,z.jsx)(W,{subject_id:null===Ne||void 0===Ne?void 0:Ne.subjectId,title:"Lesson Plan",desc:null===Fi||void 0===Fi?void 0:Fi.description,activity_list:null!==Fi&&void 0!==Fi&&Fi.LessonActivities?null===Fi||void 0===Fi||null===(fi=Fi.LessonActivities)||void 0===fi?void 0:fi.filter((function(i){return!(null!==i&&void 0!==i&&i.marked_for_homework)})):[],type:0,duration:Fi?(0,li.g)(null===Fi||void 0===Fi?void 0:Fi.totalLessonDuration):"-",setViewReport:function(){return Ze(1)},locationParams:Ne,getValues:Te,yearId:null===Ji||void 0===Ji||null===(xi=Ji.tbl_student)||void 0===xi?void 0:xi.st_year_level,handleActivityDelete:function(i,e){return Le(0,e)}}),(0,z.jsx)("div",{className:C}),null!==Ie&&void 0!==Ie&&null!==(wi=Ie.state)&&void 0!==wi&&wi.isReschedule||"true"===(null===Pe||void 0===Pe?void 0:Pe.isReschedule)?(0,z.jsx)(ri,{subject_id:null===Ne||void 0===Ne?void 0:Ne.subjectId,setViewReport:function(){return Ze(2)},title:"Homework Plan",desc:null===Fi||void 0===Fi?void 0:Fi.homework_description,activity_list:null!==Fi&&void 0!==Fi&&Fi.LessonActivities?null===Fi||void 0===Fi||null===(Ii=Fi.LessonActivities)||void 0===Ii?void 0:Ii.filter((function(i){return null===i||void 0===i?void 0:i.marked_for_homework})):[],type:1,duration:Fi?(0,li.g)(null===Fi||void 0===Fi?void 0:Fi.totalHomeworkDuration):"-",locationParams:Ne,getValues:Te,yearId:null===Ji||void 0===Ji||null===(gi=Ji.tbl_student)||void 0===gi?void 0:gi.st_year_level,handleActivityDelete:function(i,e){return Le(0,e)}}):(0,z.jsx)(W,{subject_id:null===Ne||void 0===Ne?void 0:Ne.subjectId,setViewReport:function(){return Ze(2)},title:"Homework Plan",desc:null===Fi||void 0===Fi?void 0:Fi.homework_description,activity_list:null!==Fi&&void 0!==Fi&&Fi.LessonActivities?null===Fi||void 0===Fi||null===(Di=Fi.LessonActivities)||void 0===Di?void 0:Di.filter((function(i){return null===i||void 0===i?void 0:i.marked_for_homework})):[],type:1,duration:Fi?(0,li.g)(null===Fi||void 0===Fi?void 0:Fi.totalHomeworkDuration):"-",locationParams:Ne,getValues:Te,yearId:null===Ji||void 0===Ji||null===(Pi=Ji.tbl_student)||void 0===Pi?void 0:Pi.st_year_level,handleActivityDelete:function(i,e){return Le(0,e)}})]}):(0,z.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"100px"},children:(0,z.jsx)("label",{children:mi.yt})})]}),!!he&&(Se?(0,z.jsx)(_i,{setUpdate:_e,setBtnDisable:ue,data:he,location:Ie,navigate:we,setData:ke,title:"Lesson plan",type:0,locationParams:Ne,handleActivityDelete:function(i,e){return Le(0,e)},getValues:Te,yearId:null===Ji||void 0===Ji||null===(Ni=Ji.tbl_student)||void 0===Ni?void 0:Ni.st_year_level},"lesson".concat(Ji)):(0,z.jsx)(di,{setUpdate:_e,setBtnDisable:ue,data:he,location:Ie,navigate:we,setData:ke,title:"Lesson plan",type:0,locationParams:Ne,handleActivityDelete:function(i,e){return Le(0,e)},getValues:Te,yearId:null===Ji||void 0===Ji||null===(Si=Ji.tbl_student)||void 0===Si?void 0:Si.st_year_level},"lesson".concat(Ji))),!!he&&(Se?(0,z.jsx)(_i,{setUpdate:_e,setBtnDisable:ue,data:he,location:Ie,navigate:we,setData:ke,title:"Homework",type:1,locationParams:Ne,handleActivityDelete:function(i,e){return Le(0,e)},getValues:Te,yearId:null===Ji||void 0===Ji||null===(Li=Ji.tbl_student)||void 0===Li?void 0:Li.st_year_level},"homework-".concat(Ji)):(0,z.jsx)(di,{setUpdate:_e,setBtnDisable:ue,data:he,location:Ie,navigate:we,setData:ke,title:"Homework",type:1,locationParams:Ne,handleActivityDelete:function(i,e){return Le(0,e)},getValues:Te,yearId:null===Ji||void 0===Ji||null===(Ti=Ji.tbl_student)||void 0===Ti?void 0:Ti.st_year_level},"homework-".concat(Ji)))]}):(0,z.jsx)("div",{className:K}),(0,z.jsxs)("div",{className:U,children:[(0,z.jsx)("button",{onClick:function(){var i,e;return we("/"+$.Z.SESSION_PAGE+"/"+(null===Ji||void 0===Ji||null===(i=Ji.tbl_session)||void 0===i?void 0:i.pk_ses_key),{state:{selectedTab:(null===Ne||void 0===Ne?void 0:Ne.selectedTab)||+(null===Ne||void 0===Ne?void 0:Ne.selectedTabEditSession),isReschedule:(null===Ie||void 0===Ie||null===(e=Ie.state)||void 0===e?void 0:e.isReschedule)||"true"===(null===Pe||void 0===Pe?void 0:Pe.isReschedule)}})},className:R,children:"Back"}),!re&&(0,z.jsx)("button",{disabled:ve,onClick:function(){return function(){var i={lesson_key:null!==Ji&&void 0!==Ji&&Ji.pk_lesson_key?null===Ji||void 0===Ji?void 0:Ji.pk_lesson_key:"",description:null===he||void 0===he?void 0:he.lesson_desc,homework_description:null===he||void 0===he?void 0:he.homework_desc,is_lesson_sequential:null!==he&&void 0!==he&&he.lesson_sequential?1:0,is_homework_sequential:null!==he&&void 0!==he&&he.homework_sequential?1:0,fk_sest_key:null===Ne||void 0===Ne?void 0:Ne.sessionId,fk_student_key:null===Ne||void 0===Ne?void 0:Ne.studentId};De((0,r.ae)(i)).then((function(i){var e;200===(null===i||void 0===i||null===(e=i.payload)||void 0===e?void 0:e.statusCode)?(c.Am.success("Updated successfully"),_e(!0)):(c.Am.error("Something went wrong"),_e(!1))}))}()},className:O,children:"Update"})]}),(0,z.jsx)(n.Z,{closeModal:function(){return Ci(!1)},show:Vi,title:"View Lesson Report",hide:function(){return Ci(!1)},modalBody:(0,_.Z)()}),Ri&&(0,z.jsx)(m.Z,{student_key:null===Ji||void 0===Ji||null===(Ai=Ji.tbl_student)||void 0===Ai?void 0:Ai.pk_student_key,subject_id:Array.isArray(null===Ne||void 0===Ne?void 0:Ne.subjectId)?null===Ne||void 0===Ne?void 0:Ne.subjectId:[+(null===Ne||void 0===Ne?void 0:Ne.subjectId)],modalForViewPastLessons:Yi,setModalForViewPastLessons:Bi,closeModal:Oi}),(0,z.jsx)(n.Z,{closeModal:function(){return Bi(!1)},show:Yi,title:"View past sessions",hide:function(){return Bi(!1)},modalBody:(0,y.Z)(pe,(function(i,e){var o=e.sortField,l=e.sortOrder;if("sort"===i)De((0,r.cJ)(o)),De((0,r._Y)(l))}),xe,fe,je,(function(i){Oi(!1),Bi(!1),we("/"+$.Z.SESSION_PAGE+"/"+i.pk_ses_key)}))}),(0,z.jsx)(n.Z,{show:Vi,closeModal:function(){return Ci(!1)},title:"View ".concat(Qi?"homework":"lesson"," report"),hide:function(){return Ci(!1)},modalBody:(0,_.Z)()})]})}}}]);