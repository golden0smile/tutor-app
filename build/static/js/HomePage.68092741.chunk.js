"use strict";(self.webpackChunksea_tutor_react=self.webpackChunksea_tutor_react||[]).push([[460],{93721:function(e,n,a){a.d(n,{DF:function(){return r},Fg:function(){return s},JM:function(){return v},Rd:function(){return d},ZX:function(){return u},eV:function(){return i},nS:function(){return t},p:function(){return o},pY:function(){return c},s3:function(){return l}});var t=[{label:"All",value:0},{label:"English",value:1},{label:"Maths",value:2},{label:"English & Maths",value:3}],i=[{label:"All",value:"0"},{label:"Upcoming",value:"1"},{label:"Reassigned",value:"2"},{label:"Ongoing",value:"3"},{label:"Completed",value:"4"}],s=[{label:"All",value:"0"},{label:"Recurring",value:"1"},{label:"One Off",value:"2"}],l=[{label:"Primary 1",value:"0"},{label:"Primary 2",value:"1"},{label:"Secondary",value:"2"}],o=[{label:"Apple Primary School",value:"0"},{label:"Apple Primary School",value:"1"},{label:"Apple Primary School",value:"2"}],d=[{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:25,value:25},{label:50,value:50},{label:100,value:100}],r={SCHOOL:"school",DATE:"date",LEVEL:"level",TYPE:"type",STATUS:"status",PAYMENT_STATUS:"payment_status",SUBJECT:"subject"},u={SESSIONS:"Search for session name...",STUDENTS:"Search for student ID, name...",MY_LIBRARY:"Search for activity name"},c={ENGLISH:"English",MATHS:"Maths"},v={UPCOMING:"Upcoming",REASSIGNED:"Reassigned",ONGOING:"Ongoing",COMPLETED:"Completed"}},3236:function(e,n,a){a.r(n),a.d(n,{default:function(){return Ie}});var t=a(29439),i="CustomWeeklyHeader_uniqueButton__4pp4a",s="CustomWeeklyHeader_calendarMainDiv__TIRxV",l="CustomWeeklyHeader_calendarImg__1BbLZ",o="CustomWeeklyHeader_view_type_wrap__ocfYg",d="CustomWeeklyHeader_green_select__VupHs",r="CustomWeeklyHeader_p4__jzuP4",u=a(47313),c=a(70816),v=a.n(c),m=a(46123),_=a.n(m),f="CardDashBoard_dashboardCard__twLX-",h="CardDashBoard_dashboardCardInner__G+1vX",p="CardDashBoard_dashboardCardContainer__0ty2d",D="CardDashBoard_dashboardCardImage__qkUzs",x="CardDashBoard_dashboardCardDetails__VpXmv",b="CardDashBoard_dashboardCardNameWrapper__RGG09",y="CardDashBoard_dashboardCardName__LTzjF",j="CardDashBoard_title__xp+Vz",C="CardDashBoard_amount__EHRxu",g="CardDashBoard_dashboardCardFooter__XcU8S",k="CardDashBoard_dashboardCardFooterContent__v7lPr",N="CardDashBoard_dashboardCardFooterTitle__s4YGN",S="CardDashBoard_dashboardCardMarkContent__XNsmf",M="CardDashBoard_dashboardCardMarkTitle__wxrJm",Y="CardDashBoard_cardsMain__B0JjK",E=a(58467),I=a(85554),T=a(40713),w=a(37217),A=a(25327),W=a(18317),Z=a(46417),O=function(){var e=(0,E.s0)(),n=(0,I.I0)(),a=(0,I.v9)((function(e){return e.home.count})),t=(0,u.useMemo)((function(){return[{id:1,icon:A.hk,title:"Sessions taught this year",amount:(null===a||void 0===a?void 0:a.totalSessionsCountInYear)||0,redirectionLink:T.Z.SESSION_PAGE,footerTitle:"+"+((null===a||void 0===a?void 0:a.totalSessionsCountInWeek)||0)+" this week",color:"#F2C6DE"},{id:2,icon:A.mG,title:"Pending Payments",amount:"SGD "+((null===a||void 0===a?void 0:a.pendingPayment)||0),redirectionLink:T.Z.TIME_SHEETS_PAGE,footerTitle:0!==(null===a||void 0===a?void 0:a.pendingPaymentCountInWeek)?((null===a||void 0===a?void 0:a.pendingPaymentCountInWeek)||0)+" this week":" All paid this week",color:"#F7D9CA"},{id:3,icon:A.MO,title:"Unplanned lessons",amount:null===a||void 0===a?void 0:a.totalUnplannedSessionsCountInWeek,redirectionLink:T.Z.STUDENTS,footerTitle:(null===a||void 0===a?void 0:a.totalUpComingSessionsInHourCount)>0?"1 upcoming in "+(0,W.U)(null===a||void 0===a?void 0:a.totalUpComingSessionsInHourCount):"All upcoming lessons planned.",color:"#C6DEF1"},{id:4,icon:A.XW,title:"Outstanding marking",redirectionLink:T.Z.MARKING_WIZARD_PAGE,amount:null===a||void 0===a?void 0:a.totalOutstandingMarkingCount,isMarked:!0,footerTitle:0===(null===a||void 0===a?void 0:a.totalOutstandingMarkingCount)?"All activities marked.":"",color:"#DBCDF0"}]}),[a]);return(0,Z.jsx)("div",{className:_()("mt-3",Y),children:null===t||void 0===t?void 0:t.map((function(a){return(0,Z.jsx)("div",{className:_()(null!==a&&void 0!==a&&a.redirectionLink?4===(null===a||void 0===a?void 0:a.id)&&0===+(null===a||void 0===a?void 0:a.amount)?"":"cursor-pointer":"",f),onClick:function(){return null!==a&&void 0!==a&&a.redirectionLink?4===(null===a||void 0===a?void 0:a.id)?null:(t="/".concat(null===a||void 0===a?void 0:a.redirectionLink),void((null===a||void 0===a?void 0:a.redirectionLink)===T.Z.STUDENTS?(n((0,w.ZA)(!0)),e(t)):e(t))):null;var t},children:(0,Z.jsxs)("div",{className:h,style:{backgroundColor:null===a||void 0===a?void 0:a.color},children:[(0,Z.jsxs)("div",{className:p,children:[(0,Z.jsx)("img",{src:null===a||void 0===a?void 0:a.icon,alt:"tutor",className:D}),(0,Z.jsx)("div",{className:x,children:(0,Z.jsx)("div",{className:b,children:(0,Z.jsxs)("div",{className:y,children:[(0,Z.jsx)("h6",{className:_()("mb-0",j),children:null===a||void 0===a?void 0:a.title}),(0,Z.jsx)("h4",{className:_()("mb-0",C),children:null===a||void 0===a?void 0:a.amount})]})})})]}),(0,Z.jsx)("div",{className:g,children:null!==a&&void 0!==a&&a.isMarked?(0,Z.jsx)("div",{className:S,children:(0,Z.jsx)("div",{className:_()(M),children:"Mark"})}):(0,Z.jsx)("div",{className:k,children:(0,Z.jsx)("h6",{className:N,children:null===a||void 0===a?void 0:a.footerTitle})})})]})},null===a||void 0===a?void 0:a.id)}))})},L="WeeklyCalendar_myCalendar__3WxOB",P="WeeklyCalendar_dateInfoContainer__hdXwC",B="WeeklyCalendar_inner__8SEb5",R="WeeklyCalendar_pTime__3V-lx",G="WeeklyCalendar_sessionName__BBfdw",U="WeeklyCalendar_pSubject__uQrpo",H="WeeklyCalendar_lineHr__xj2ub",V="WeeklyCalendar_mainStudentName__4M7UW",F="WeeklyCalendar_studentName__OleO0",J="WeeklyCalendar_buttonWeeklyCalendar__5wsjy",X="WeeklyCalendar_onGoing__36ief",z="WeeklyCalendar_completed__y1UXE",K="WeeklyCalendar_reAssigned__JB0ng",q="WeeklyCalendar_upcoming__8N15-",Q="WeeklyCalendar_calender_day_title__WmaYM",$="WeeklyCalendar_noActivity__aWxvR",ee="WeeklyCalendar_otherSubject__5lbQr",ne="WeeklyCalendar_moreLink__CEOFz",ae="WeeklyCalendar_loader_bg__GIlWi",te="WeeklyCalendar_loader__IhTzA",ie=(a(64605),a(72632),a(60860)),se=a(35601),le=(a(25096),a(32383),a(31387)),oe=function(e){var n=new Date(e.dates),a=new Date(n);a.setDate(a.getDate()+6);var i={startDate:n,endDate:a,key:"selection"},s=(0,u.useState)(""),l=(0,t.Z)(s,2),o=l[0],d=l[1],r=(0,u.useState)([i]),c=(0,t.Z)(r,2),v=c[0],m=c[1];return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("div",{className:"dashboard-date-picker",children:[(0,Z.jsx)(se.Dw,{ranges:v,onChange:function(n){var a=null!==e&&void 0!==e&&e.isDay?0:6,t=n.selection,i=t.startDate,s=t.endDate,l=s!==i,o=l&&Math.round((s-i)/864e5);l&&o===a?(m([n.selection]),d([n.selection])):l&&o<a?(m([n.selection]),d([n.selection]),(null===e||void 0===e||!e.isDay)&&le.Am.error("Selected range must be exactly 7 days.")):l&&o>a?(m([{startDate:i,endDate:new Date(i.getTime()+24*a*60*60*1e3),key:"selection"}]),(null===e||void 0===e||!e.isDay)&&le.Am.error("Selected range exceeding the maximum range of 7 days.")):m([n.selection])},className:"pickerOverlayA",direction:"horizontal"}),""!==o||n?(0,Z.jsx)("div",{className:"date-picker-footer",children:(0,Z.jsx)("button",{className:"primaryBTn",onClick:function(){var n;n=v[0].startDate,e.onDatePick(n,"datePickerValue"),null===e||void 0===e||e.setIsOpen(!1)},children:"Done"})}):null]})})},de=a(69174),re=a(97738),ue=function(e){var n=(0,I.I0)(),a=(0,u.useRef)(null),o=(0,u.useState)(),d=(0,t.Z)(o,2),r=d[0],c=d[1],m=(0,u.useState)(),f=(0,t.Z)(m,2),h=f[0],p=f[1],D=(0,u.useState)(!0),x=(0,t.Z)(D,2),b=x[0],y=x[1],j=(0,u.useState)(!1),C=(0,t.Z)(j,2),g=C[0],k=C[1],N=(0,u.useCallback)((function(){return k(!1)}),[]);(0,de.Z)(a,N);var S=function(){k(!g)},M=function(n){if("next"===n){var a=v()(h).add(1,"days").format();c(a),e.onDataSend(a)}else{var t=v()(r).subtract(7,"days").format();c(t),e.onDataSend(t)}};return(0,u.useEffect)((function(){!function(){if(b){var a=new Date(e.initialDate).getDay(),t=0;1===a?t=0:2===a?t=1:3===a?t=2:4===a?t=3:5===a?t=4:6===a?t=5:7===a&&(t=6);var i=new Date(e.initialDate);i.setDate(i.getDate()-t),c(i);var s=v()(i).add(6,"days").format();p(s),n((0,re.cb)({from_date:v()(i).format("YYYY-MM-DD"),to_date:v()(s).format("YYYY-MM-DD")}))}else{var l=new Date(e.initialDate);c(l);var o=v()(l).add(6,"days").format();p(o),n((0,re.cb)({from_date:v()(l).format("YYYY-MM-DD"),to_date:v()(o).format("YYYY-MM-DD")}))}}()}),[e.initialDate]),(0,Z.jsxs)("div",{className:s,ref:a,children:[(0,Z.jsx)("img",{src:A.mY,alt:"calendar",className:_()(l),onClick:S}),(0,Z.jsx)("button",{onClick:function(){M("prev")},className:_()(i),disabled:e.isDisable,children:(0,Z.jsx)(ie.u1R,{color:"#001035"})}),(0,Z.jsxs)("p",{onClick:S,className:" m-2 mb-0 mt-0",children:[" ",v()(r).format("D MMMM")," -"," ",v()(r).add(6,"days").format("D MMMM")]}),(0,Z.jsx)("button",{onClick:function(){M("next")},className:_()(i),disabled:e.isDisable,children:(0,Z.jsx)(ie.hjJ,{})}),g&&(0,Z.jsx)("div",{children:(0,Z.jsx)(oe,{onDatePick:function(n,a){c(n),y(!1),e.onDataSend(n,a)},className:"pickerOverlayA",dates:r,setIsOpen:k})})]})},ce=a(88258),ve=a(3256),me=a(2135),_e=a(93721),fe=function(e){var n=e.eventDetails,a=e.isDay,t=void 0!==a&&a,i=n.duration,s=n.endTime,l=n.startTime,o=n.title,d=n.student,r=n.sessionId,c=n.id,v=n.isComplete,m=n.isReassigned,f=n.sessionType,h=n.subjectName,p=n.subjectIds,D=n.status,x={isReschedule:n.isDefer},b=function(){return 1===v?_e.JM.COMPLETED:1===m?_e.JM.REASSIGNED:0===D?_e.JM.UPCOMING:1===D?_e.JM.ONGOING:void 0};return(0,Z.jsx)("div",{className:P,children:(0,Z.jsxs)(me.rU,{to:"/"+T.Z.SESSION_PAGE+"/"+r,className:ne,state:x,children:[(0,Z.jsxs)("div",{className:B,children:[(0,Z.jsxs)("div",{className:"d-flex flex-column",children:[!t&&(0,Z.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Z.jsxs)("p",{className:_()(R),children:[l," - ",s]}),(0,Z.jsxs)("p",{className:_()(R),children:[" ",i," "]})]}),(0,Z.jsx)("p",{className:_()(G),id:"session"+c,children:o}),(0,Z.jsx)(ve.Z,{placement:"bottom",target:"session"+c,children:o}),(0,Z.jsxs)("p",{className:_()(U),children:[f," \u2022 ",h]})]}),(null===d||void 0===d?void 0:d.length)>0?(0,Z.jsx)("hr",{className:_()(H)}):null,(0,Z.jsx)("div",{className:_()(V),children:null===d||void 0===d?void 0:d.map((function(e,n){var a,t,i,s,l;return(0,Z.jsxs)(u.Fragment,{children:[null!==e&&void 0!==e&&e.tbl_student?(0,Z.jsxs)("div",{className:B,children:[(0,Z.jsx)("img",{src:A.yb,alt:"dummyPhoto",width:"15px",height:"15px"}),(0,Z.jsxs)("p",{className:_()(F),children:[null===(a=e.tbl_student)||void 0===a?void 0:a.st_first_name," "]})]},n):null,(null===p||void 0===p?void 0:p.length)>0?(0,Z.jsx)("p",{className:ee,children:p}):0===+(null===(t=e.tbl_student)||void 0===t?void 0:t.TotalActivities)?[6].includes(null===e||void 0===e||null===(i=e.tbl_student)||void 0===i||null===(s=i.tbl_session_attendances)||void 0===s||null===(l=s[0])||void 0===l?void 0:l.attendance_status)?(0,Z.jsx)("p",{className:$,children:"Defer"}):(0,Z.jsx)("p",{className:$,children:"No activities assigned"}):null]},n)}))})]}),(0,Z.jsxs)("button",{className:_()(J,"Completed"===b()?z:"Ongoing"===b()?X:"Upcoming"===b()?q:K),children:[" ",b()]})]})},c+"sessionCard")},he=a(60390),pe=a(5618),De=a(93433),xe=function(){var e=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(n){var a;null===n||void 0===n||null===(a=n.tbl_enrolment_subjects)||void 0===a||a.forEach((function(n){[1,2].includes(+(null===n||void 0===n?void 0:n.fk_sub_id))||e.push(null===n||void 0===n?void 0:n.subject_name)}))})),(0,De.Z)(new Set(e)).sort()},be=function(e){var n=e.defaultDate,a=e.setDefaultDate,i=(0,ce.Zt)(v()),s=(0,I.v9)((function(e){var n;return null===(n=e.session)||void 0===n?void 0:n.SessionDetails})),l=(0,I.v9)((function(e){var n;return null===(n=e.session)||void 0===n?void 0:n.isLoading})),o=(0,u.useState)(ce.kO.WEEK),d=(0,t.Z)(o,2),r=d[0],c=d[1],m=(0,u.useState)([]),f=(0,t.Z)(m,2),h=f[0],p=f[1],D=(0,u.useCallback)((function(e){return p([])}),[h]),x=(0,u.useCallback)((function(){return c(ce.kO.WEEK)}),[c]),b=(0,u.useState)(1),y=(0,t.Z)(b,2),j=y[0],C=y[1];v().locale("ko",{week:{dow:j}});var g=function(e){var n="ha";return n="00"===e.format("mm")?"ha":"h:mma",e.format(n)},k=(0,u.useMemo)((function(){p([]);var e=null===s||void 0===s?void 0:s.sessions;return null===e||void 0===e?void 0:e.map((function(e){var n,a,t,i,s,l="".concat(null===e||void 0===e?void 0:e.ses_date," ").concat(e.ses_start_time),o=v()(l,"YYYY-MM-DD hh:mmA"),d="".concat(null===e||void 0===e?void 0:e.ses_date," ").concat(e.ses_end_time),r=v()(d,"YYYY-MM-DD hh:mmA"),u=null!==e&&void 0!==e&&e.ses_start_time&&null!==e&&void 0!==e&&e.ses_end_time?(0,he.w)(null===e||void 0===e?void 0:e.ses_start_time,null===e||void 0===e?void 0:e.ses_end_time):null;return{id:e.pk_ses_id,sessionId:null===e||void 0===e?void 0:e.pk_ses_key,start:v()(null===e||void 0===e?void 0:e.ses_date).toDate(),end:v()(null===e||void 0===e?void 0:e.ses_date).toDate(),title:null===e||void 0===e||null===(n=e.tbl_session_time)||void 0===n?void 0:n.sest_name,duration:u,student:null===e||void 0===e||null===(a=e.tbl_session_time)||void 0===a?void 0:a.tbl_student_enrolments,sessionDay:null===e||void 0===e||null===(t=e.tbl_session_time)||void 0===t?void 0:t.sest_day,isComplete:null===e||void 0===e?void 0:e.ses_is_completed,isReassigned:null===e||void 0===e?void 0:e.ses_reassigned,startTime:g(o),endTime:g(r),sessionType:null===e||void 0===e?void 0:e.type,subjectName:(0,pe.Z)(null===e||void 0===e||null===(i=e.tbl_session_time)||void 0===i?void 0:i.tbl_student_enrolments),subjectIds:xe(null===e||void 0===e||null===(s=e.tbl_session_time)||void 0===s?void 0:s.tbl_student_enrolments),status:null===e||void 0===e?void 0:e.ses_status,isDefer:null===e||void 0===e?void 0:e.is_reschedule}}))}),[s]);(0,u.useEffect)((function(){p([])}),[]);var N={dayFormat:function(e,n,a){return 1===v()(e).date()?"".concat(a.format(e,"D",n)," ").concat(a.format(e,"MMM",n)," ").concat(a.format(e,"ddd",n)):a.format(e,"D ddd",n)}};return(0,Z.jsxs)("div",{style:{marginLeft:"0px",paddingLeft:"16px",paddingRight:"16px",position:"relative"},children:[(0,Z.jsx)(ue,{onDataSend:function(e,n){a(v()(e).format());var t=new Date(e).getDay();C(t),p([])},initialDate:n,isDisable:l}),(0,Z.jsx)(ce.f,{onNavigate:D,onView:x,view:r,localizer:i,formats:N,date:n,className:_()("removeTimeSlot removeTimeSlotLabel",L),events:k,components:{event:function(e){if(e.event){var n,a,t=null===h||void 0===h?void 0:h.find((function(n){var a;return v()(n).isSame(null===e||void 0===e||null===(a=e.event)||void 0===a?void 0:a.start,"day")})),i=[];if(!t||(null===h||void 0===h?void 0:h.length)>7)null===h||void 0===h||h.push(null===e||void 0===e||null===(n=e.event)||void 0===n?void 0:n.start),null===k||void 0===k||null===(a=k.filter((function(n,a){var t;return v()(null===n||void 0===n?void 0:n.start).isSame(null===e||void 0===e||null===(t=e.event)||void 0===t?void 0:t.start,"day")})))||void 0===a||a.map((function(e,n){i.push(e)}));return null===i||void 0===i?void 0:i.map((function(e,n){return(0,Z.jsx)(fe,{eventDetails:e},n)}))}return(0,Z.jsx)("div",{children:"No sessions scheduled"})},customMsg:function(){},header:function(e){var n,a=e.label;if(2===(null===(n=a.split(" "))||void 0===n?void 0:n.length)){var i=a.split(" "),s=(0,t.Z)(i,2),l=s[0],o=s[1];return(0,Z.jsxs)("div",{className:Q,children:[(0,Z.jsx)("span",{children:l}),(0,Z.jsx)("span",{children:o})]})}var d=a.split(" "),r=(0,t.Z)(d,3),u=r[0],c=r[1],v=r[2];return(0,Z.jsxs)("div",{className:Q,children:[(0,Z.jsxs)("span",{children:[u," ",c]}),(0,Z.jsx)("span",{children:v})]})}},dayPropGetter:function(e){var n,a={paddingTop:"25px",paddingLeft:"10px",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"};return n=e,(null===k||void 0===k?void 0:k.some((function(e){return v()(n).isSame(e.start,"day")||v()(n).isSame(e.end,"day")})))?{style:a}:{className:"no-events-wrapper",style:a,customElements:(0,Z.jsx)("div",{className:"no-events-message",children:"No sessions scheduled"})}},onSelectEvent:function(e){},tooltipAccessor:!1}),(0,Z.jsx)("div",{}),l?(0,Z.jsx)("div",{className:ae,children:(0,Z.jsx)("div",{className:te})}):null]})},ye=a(38584),je=function(e){var n=(0,I.I0)(),a=(0,u.useRef)(null),o=(0,u.useState)(),d=(0,t.Z)(o,2),r=d[0],c=d[1],m=(0,u.useState)(!1),f=(0,t.Z)(m,2),h=f[0],p=f[1],D=(0,u.useCallback)((function(){return p(!1)}),[]);(0,de.Z)(a,D);var x=function(){p(!h)},b=function(n){if("next"===n){var a=v()(r).add(1,"days").format();c(a),e.onDataSend(a)}else{var t=v()(r).subtract(1,"days").format();c(t),e.onDataSend(t)}};return(0,u.useEffect)((function(){!function(){var a=new Date(e.initialDate);c(a),n((0,re.cb)({from_date:v()(a).format("YYYY-MM-DD"),to_date:v()(a).format("YYYY-MM-DD")}))}()}),[e.initialDate]),(0,Z.jsxs)("div",{className:s,ref:a,children:[(0,Z.jsx)("img",{src:A.mY,alt:"calendar",className:_()(l),onClick:x}),(0,Z.jsx)("button",{onClick:function(){b("prev")},className:_()(i),disabled:e.isDisable,children:(0,Z.jsx)(ie.u1R,{color:"#001035"})}),(0,Z.jsxs)("p",{onClick:x,className:" m-2 mb-0 mt-0",children:[" ",v()(r).format("D MMMM")]}),(0,Z.jsx)("button",{onClick:function(){b("next")},className:_()(i),disabled:e.isDisable,children:(0,Z.jsx)(ie.hjJ,{})}),h&&(0,Z.jsx)("div",{children:(0,Z.jsx)(oe,{onDatePick:function(n,a){c(n),e.onDataSend(n,a)},className:"pickerOverlayA",dates:r,setIsOpen:p,isDay:!0})})]})},Ce="DayViewComponent_dayViewComponentContainer__Fsn3g",ge="DayViewComponent_dayViewItem__XhbRW",ke="DayViewComponent_dayViewHeader__Qck--",Ne="DayViewComponent_dayViewHeaderLabel__IzYqq",Se="DayViewComponent_noEventWrapper__HKILF",Me=function(){return(0,Z.jsx)("div",{className:Se,children:"No sessions scheduled"})},Ye=function(e){var n=e.event;return(0,Z.jsxs)("div",{className:Ce,children:[(!Array.isArray(n)||0===(null===n||void 0===n?void 0:n.length))&&(0,Z.jsx)(Me,{}),Array.isArray(n)&&(null===n||void 0===n?void 0:n.map((function(e,n){return(0,Z.jsxs)("div",{className:ge,children:[(0,Z.jsxs)("div",{className:ke,children:[(0,Z.jsxs)("label",{className:Ne,children:[null===e||void 0===e?void 0:e.startTime," - ",null===e||void 0===e?void 0:e.endTime]}),(0,Z.jsx)("label",{className:Ne,children:null===e||void 0===e?void 0:e.duration})]}),(0,Z.jsx)(fe,{eventDetails:e,isDay:!0})]})})))]})},Ee=function(e){var n=e.defaultDate,a=e.setDefaultDate,i=(0,I.v9)((function(e){var n;return null===(n=e.session)||void 0===n?void 0:n.SessionDetails})),s=(0,I.v9)((function(e){var n;return null===(n=e.session)||void 0===n?void 0:n.isLoading})),l=(0,u.useState)(1),o=(0,t.Z)(l,2),d=o[0],r=o[1];v().locale("ko",{week:{dow:d}});var c=function(e){var n="ha";return n="00"===e.format("mm")?"ha":"h:mma",e.format(n)},m=(0,u.useMemo)((function(){var e=null===i||void 0===i?void 0:i.sessions;return null===e||void 0===e?void 0:e.map((function(e){var n,a,t,i,s,l="".concat(null===e||void 0===e?void 0:e.ses_date," ").concat(e.ses_start_time),o=v()(l,"YYYY-MM-DD hh:mmA"),d="".concat(null===e||void 0===e?void 0:e.ses_date," ").concat(e.ses_end_time),r=v()(d,"YYYY-MM-DD hh:mmA"),u=null!==e&&void 0!==e&&e.ses_start_time&&null!==e&&void 0!==e&&e.ses_end_time?(0,he.w)(null===e||void 0===e?void 0:e.ses_start_time,null===e||void 0===e?void 0:e.ses_end_time):null;return{id:e.pk_ses_id,sessionId:null===e||void 0===e?void 0:e.pk_ses_key,start:v()(o).toDate(),end:v()(r).toDate(),title:null===e||void 0===e||null===(n=e.tbl_session_time)||void 0===n?void 0:n.sest_name,duration:u,student:null===e||void 0===e||null===(a=e.tbl_session_time)||void 0===a?void 0:a.tbl_student_enrolments,sessionDay:null===e||void 0===e||null===(t=e.tbl_session_time)||void 0===t?void 0:t.sest_day,isComplete:null===e||void 0===e?void 0:e.ses_is_completed,isReassigned:null===e||void 0===e?void 0:e.ses_reassigned,startTime:c(o),endTime:c(r),sessionType:null===e||void 0===e?void 0:e.type,subjectName:(0,pe.Z)(null===e||void 0===e||null===(i=e.tbl_session_time)||void 0===i?void 0:i.tbl_student_enrolments),subjectIds:xe(null===e||void 0===e||null===(s=e.tbl_session_time)||void 0===s?void 0:s.tbl_student_enrolments),status:null===e||void 0===e?void 0:e.ses_status,isDefer:null===e||void 0===e?void 0:e.is_reschedule}}))}),[i]);return(0,Z.jsxs)("div",{style:{marginLeft:"0px",paddingLeft:"16px",paddingRight:"16px",position:"relative"},children:[(0,Z.jsx)(je,{onDataSend:function(e,n){a(v()(e).format());var t=new Date(e).getDay();r(t)},initialDate:n,isDisable:s}),(0,Z.jsx)(Ye,{event:m}),(0,Z.jsx)("div",{}),s?(0,Z.jsx)("div",{className:ae,children:(0,Z.jsx)("div",{className:te})}):null]})},Ie=function(){var e=(0,I.I0)(),n=(0,u.useState)(v()().format()),a=(0,t.Z)(n,2),i=a[0],s=a[1],l=(0,u.useState)(0),c=(0,t.Z)(l,2),m=c[0],_=c[1],f=function(e){_(e?1:0)};(0,u.useEffect)((function(){e((0,ye.gc)()),localStorage.removeItem("sessionTabId"),localStorage.removeItem("sessionData")}),[e]);var h=function(){return(0,Z.jsxs)("div",{className:"".concat(o," order-2 order-md-0 d-flex align-self-center"),children:[(0,Z.jsx)("div",{name:"payment_mode_for_pre_registration","data-type":"payment_mode_for_pre_registration",className:"".concat(1==m?d:""," ").concat(r),onClick:function(){f(1)},children:"Day"}),(0,Z.jsx)("div",{name:"payment_mode_for_pre_registration","data-type":"payment_mode_for_pre_registration",className:"".concat(0==m?d:""," ").concat(r),onClick:function(){f(0)},children:"Week"})]})};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(O,{}),(0,Z.jsxs)("div",{style:{position:"relative"},children:[m?(0,Z.jsx)(Ee,{defaultDate:i,setDefaultDate:s}):(0,Z.jsx)(be,{defaultDate:i,setDefaultDate:s}),(0,Z.jsx)("div",{style:{position:"absolute",top:"20px",right:"20px"},children:(0,Z.jsx)(h,{})})]})]})}},60390:function(e,n,a){a.d(n,{w:function(){return s}});var t=a(70816),i=a.n(t),s=function(e,n){if(e&&n){var a=i()(e,"hh:mm"),t=i()(n,"hh:mm"),s=i().duration(t.diff(a)).asMinutes();return s<0?null:"".concat(Math.floor(s)," mins")}return null}},18317:function(e,n,a){a.d(n,{U:function(){return i},g:function(){return t}});var t=function(e){if(e){var n=e.split("-");if(0===n[n.length-1]||"0"===n[n.length-1])return"-";var a=function(e){if(e){if(e<60)return e+" mins";var n=e%60;return Math.floor(e/60)+"h "+(n>0?n+" mins":"")}return"-"}(n[n.length-1]);return a}return"-"},i=function(e){if(e){if(e<60)return 1===e?e+" minute":e+" minutes";var n=Math.floor(e/60),a=e%60;return 1===n?n+" hour "+(a>0?a+"".concat(1===a?" min":" mins"):""):n+" hours "+(a>0?a+"".concat(1===a?" min":" mins"):"")}return"0 second"}},5618:function(e,n,a){var t=a(93433),i=a(93721);n.Z=function(){var e=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(n){var a;null===n||void 0===n||null===(a=n.tbl_enrolment_subjects)||void 0===a||a.forEach((function(n){e.push(1===+(null===n||void 0===n?void 0:n.fk_sub_id)?i.pY.ENGLISH:2===+(null===n||void 0===n?void 0:n.fk_sub_id)?i.pY.MATHS:"")}))})),(0,t.Z)(new Set(e)).sort().join(" & ")}}}]);