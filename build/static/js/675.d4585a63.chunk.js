"use strict";(self.webpackChunksea_tutor_react=self.webpackChunksea_tutor_react||[]).push([[675],{41285:function(i,t,n){n.d(t,{Z:function(){return u}});n(47313);var e={translateMiddle:"PreviewModal_translateMiddle__7nQon",title:"PreviewModal_title__YHcs6",btnCustom:"PreviewModal_btnCustom__sfBMt",btnPrimary:"PreviewModal_btnPrimary__NlzSm",btnDiv:"PreviewModal_btnDiv__TD2E5"},l=n(25934),o=n(16707),d=n(68642),s=n(9327),a=n(46123),v=n.n(a),r=n(46417),u=function(i){var t=i.show,n=i.onHide,a=i.msg,u=void 0===a?"Please log off Student App in this browser in order to Preview activity.":a,c=i.confirmation,_=i.isLoad;return(0,r.jsx)(o.Z,{centered:!0,isOpen:t,toggle:n,className:e.documentModal,children:(0,r.jsxs)(d.Z,{className:"p-4",children:[(0,r.jsx)("i",{onClick:n,className:"fa-regular fa-circle-xmark  opacity-100 cursor-pointer position-absolute  ".concat(e.translateMiddle," ")}),(0,r.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[(0,r.jsx)(l.jBZ,{size:70,color:"#d8a73d"}),(0,r.jsx)("span",{className:e.title,children:"Preview Confirmation"}),(0,r.jsx)("h6",{style:{marginTop:"10px",textAlign:"center"},children:u}),(0,r.jsx)("div",{className:e.btnDiv,children:(0,r.jsx)(s.Z,{type:"submit",onClick:c,className:v()(e.btnCustom,e.btnPrimary),disabled:_,children:"Yes"})})]})]})})}},75615:function(i,t,n){n.d(t,{Jg:function(){return r},OD:function(){return e},Oc:function(){return a},bp:function(){return v},hm:function(){return l},nt:function(){return o},qQ:function(){return d},ru:function(){return u},wT:function(){return s}});var e=[{label:"English",value:"1"},{label:"Maths",value:"2"}],l=[{label:"All",value:"all"},{label:"Attempted",value:"1"},{label:"Unattempted",value:"0"}],o=[{id:1,name:"Assessment"},{id:2,name:"Diagnostics"},{id:4,name:"My library"},{id:3,name:"Video"},{id:5,name:"Worksheet"}],d=[{title:"Year/Topic / Activity Name"},{title:"Status"},{title:"Score (%)"},{title:""}],s=[{title:"Activity Name"},{title:"Source"},{title:"Type"},{title:"Status"}],a=[{title:"Video"},{title:"Status"},{title:""}],v=[{title:"Worksheet"},{title:"Status"},{title:""}],r=[{title:"Question"},{title:"Status"},{title:""}],u={ASSESSMENT:"Assessment",VIDEO:"Video",DIAGNOSTIC:"Diagnostics",LINK:"Link",TASK:"Task",WORKSHEET:"Worksheet",OFFLINE:"Offline"}},91112:function(i,t,n){n.d(t,{Z:function(){return G}});var e=n(25327),l={sessionDetailsActivityCardMainContainer:"ActivityCard_sessionDetailsActivityCardMainContainer__yervq",sessionDetailsActivityCardTitle:"ActivityCard_sessionDetailsActivityCardTitle__kjyWe",sessionDetailsActivityCardTitleSec:"ActivityCard_sessionDetailsActivityCardTitleSec__rLp6S",activityCardTitleLabel:"ActivityCard_activityCardTitleLabel__DOSrS",partiallyCompleted:"ActivityCard_partiallyCompleted__-nww7",fullyCompleted:"ActivityCard_fullyCompleted__SsyZG",notCompleted:"ActivityCard_notCompleted__amoJP",sessionDetailsActivityCardActCont:"ActivityCard_sessionDetailsActivityCardActCont__8H7YL",sessionDetailsActivityCardActContItem:"ActivityCard_sessionDetailsActivityCardActContItem__cbLtp",activityCardTypeLabel:"ActivityCard_activityCardTypeLabel__KCcC8",sessionDetailsActivityCardQuestionSection:"ActivityCard_sessionDetailsActivityCardQuestionSection__M-f10",sessionDetailsActivityCardQuestionSectionItem:"ActivityCard_sessionDetailsActivityCardQuestionSectionItem__J1XqM",activityCardManualMarkStatus:"ActivityCard_activityCardManualMarkStatus__5AxFN",markManual:"ActivityCard_markManual__iOZsG"},o=n(29439),d=n(88321),s=n(47313),a=n(2775),v=n(60215),r=n(79120),u=n(86047),c=n(41285),_=n(46417);var m=function(i){var t,n=i.data,l=i.lesson_key,m=i.activity_key,y=i.handleActivityDelete,C=i.redirectHandler,p=i.handlePreview,h=i.handleRepeat,f=i.activity_type,A=i.handleMarkView,b=(0,s.useState)(!1),S=(0,o.Z)(b,2),V=S[0],g=S[1],D=(0,s.useState)(!1),x=(0,o.Z)(D,2),E=x[0],k=x[1],I=(0,s.useState)(!1),j=(0,o.Z)(I,2),N=j[0],T=j[1],M=(0,s.useRef)(null);t=M,(0,s.useEffect)((function(){function i(i){t.current&&!t.current.contains(i.target)&&g(!1)}return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}}),[t,V]);var L=(0,s.useState)(!1),w=(0,o.Z)(L,2),P=w[0],R=w[1];return(0,_.jsxs)("div",{className:"customDropDown",children:[(0,_.jsxs)(a.Z,{isOpen:P,toggle:function(){return R((function(i){return!i}))},children:[(0,_.jsx)(v.Z,{children:(0,_.jsx)("img",{src:e.Ez,variant:"danger",ref:M,onClick:function(){return g(!V)},alt:""})}),(0,_.jsx)(r.Z,{style:{inset:"0px 0px 20px 20px"},children:null===n||void 0===n?void 0:n.map((function(i,t){return(0,_.jsxs)(u.Z,{onClick:function(){return function(i){6===(null===i||void 0===i?void 0:i.id)?T(!0):4===(null===i||void 0===i?void 0:i.id)?0===+f&&C():1===(null===i||void 0===i?void 0:i.id)?p():3===(null===i||void 0===i?void 0:i.id)?2!==+f&&h():7===(null===i||void 0===i?void 0:i.id)&&A(),g(!V)}(i)},children:[(0,_.jsx)("img",{src:null===i||void 0===i?void 0:i.icon,alt:""}),(0,_.jsx)("label",{children:null===i||void 0===i?void 0:i.name})]},t)}))})]}),(0,_.jsx)(d.Z,{show:N,onHide:function(){return T(!1)},deleteConfirmation:function(){y(l,m),T(!1)},msg:"Are you want to delete?"}),(0,_.jsx)(c.Z,{show:E,onHide:function(){k(!1)},confirmation:function(){k(!1),p()}})]})},y=n(18317),C=n(1320),p=function(i){var t,n=null===C.PC||void 0===C.PC?void 0:C.PC.filter((function(t){return t.id===+i}));return"".concat(null===(t=n[0])||void 0===t?void 0:t.object)},h=n(58772),f=function(i){var t,n=null===C.cm||void 0===C.cm?void 0:C.cm.filter((function(t){return t.id===+i}));return"".concat(null===(t=n[0])||void 0===t?void 0:t.object)},A=function(i,t,n,e,l,o,d,s,a){var v,r,u,c,_,m,y=[],h=0===+l?null===n||void 0===n||null===(v=n.filter((function(i){var t,n,l;return(null===i||void 0===i||null===(t=i[p(+e)])||void 0===t||null===(n=t[f(+e)])||void 0===n||null===(l=n.flatMap((function(i){return null===i||void 0===i?void 0:i.StudentAnsAttempts})))||void 0===l?void 0:l.length)>0})))||void 0===v?void 0:v.length:null===n||void 0===n||null===(r=n.filter((function(i){var t,n;return(null===i||void 0===i||null===(t=i[p(e)])||void 0===t||null===(n=t.StudentAnsAttempts)||void 0===n?void 0:n.length)>0})))||void 0===r?void 0:r.length,A=null===n||void 0===n||null===(u=n.filter((function(i){return 0===(null===i||void 0===i?void 0:i.marked_for_manual_marking)})))||void 0===u?void 0:u.length,b=null===n||void 0===n||null===(c=n.filter((function(i,t){var n,e,l,o;return(null===i||void 0===i||null===(n=i.english_question)||void 0===n||null===(e=n.english_question_parts)||void 0===e?void 0:e.length)>0&&(null===i||void 0===i||null===(l=i.english_question)||void 0===l||null===(o=l.english_question_parts)||void 0===o?void 0:o.some((function(i){return 0===(null===i||void 0===i?void 0:i.english_question_part_automark)})))})))||void 0===c?void 0:c.length;if(0===i||1===i||4===i)(5===l||7===l)&&A>0&&(1===t||(0===i||1===i)&&1===(null===o||void 0===o?void 0:o.ses_is_completed)||4===i&&1===(null===s||void 0===s||null===(_=s.tbl_session)||void 0===_?void 0:_.ses_is_completed))||0===l&&1===+e&&b>0&&A>0&&(1===t||(0===i||1===i)&&1===(null===o||void 0===o?void 0:o.ses_is_completed)||4===i&&1===(null===s||void 0===s||null===(m=s.tbl_session)||void 0===m?void 0:m.ses_is_completed))?(y.push(null===C.bV||void 0===C.bV?void 0:C.bV.MARK,null===C.bV||void 0===C.bV?void 0:C.bV.PREVIEW),0!==(null===n||void 0===n?void 0:n.length)&&0!==h||null===y||void 0===y||y.push(null===C.bV||void 0===C.bV?void 0:C.bV.DELETE)):1===t?y.push(null===C.bV||void 0===C.bV?void 0:C.bV.PREVIEW):0===(null===n||void 0===n?void 0:n.length)||0===h?y.push(null===C.bV||void 0===C.bV?void 0:C.bV.PREVIEW,null===C.bV||void 0===C.bV?void 0:C.bV.DELETE):(null===n||void 0===n||n.length,y.push(null===C.bV||void 0===C.bV?void 0:C.bV.PREVIEW));else if(3===i){var S,V;5!==l&&7!==l||!(A>0)||1!==t&&1!==+(null===d||void 0===d||null===(S=d.tbl_session)||void 0===S?void 0:S.ses_is_completed)?0===l&&1===+e&&b>0&&A>0&&(1===t||1===+(null===d||void 0===d||null===(V=d.tbl_session)||void 0===V?void 0:V.ses_is_completed))?(y.push(null===C.bV||void 0===C.bV?void 0:C.bV.MARK,null===C.bV||void 0===C.bV?void 0:C.bV.PREVIEW,null===C.bV||void 0===C.bV?void 0:C.bV.ADD_NEXT_ACTIVITY),1===t?null===y||void 0===y||y.push(null===C.bV||void 0===C.bV?void 0:C.bV.REPEAT):0!==(null===n||void 0===n?void 0:n.length)&&0!==h||null===y||void 0===y||y.push(null===C.bV||void 0===C.bV?void 0:C.bV.DELETE)):1===t?2===l?y.push(null===C.bV||void 0===C.bV?void 0:C.bV.PREVIEW):0===l?y.push(null===C.bV||void 0===C.bV?void 0:C.bV.PREVIEW,null===C.bV||void 0===C.bV?void 0:C.bV.REPEAT,null===C.bV||void 0===C.bV?void 0:C.bV.ADD_NEXT_ACTIVITY):y.push(null===C.bV||void 0===C.bV?void 0:C.bV.PREVIEW,null===C.bV||void 0===C.bV?void 0:C.bV.REPEAT):0===(null===n||void 0===n?void 0:n.length)||0===h?2===l?y.push(null===C.bV||void 0===C.bV?void 0:C.bV.PREVIEW,null===C.bV||void 0===C.bV?void 0:C.bV.DELETE):0===l?y.push(null===C.bV||void 0===C.bV?void 0:C.bV.PREVIEW,null===C.bV||void 0===C.bV?void 0:C.bV.ADD_NEXT_ACTIVITY,null===C.bV||void 0===C.bV?void 0:C.bV.DELETE):y.push(null===C.bV||void 0===C.bV?void 0:C.bV.PREVIEW,null===C.bV||void 0===C.bV?void 0:C.bV.DELETE):h<(null===n||void 0===n?void 0:n.length)&&2===l?y.push(null===C.bV||void 0===C.bV?void 0:C.bV.PREVIEW):0===l?y.push(null===C.bV||void 0===C.bV?void 0:C.bV.PREVIEW,null===C.bV||void 0===C.bV?void 0:C.bV.ADD_NEXT_ACTIVITY):y.push(null===C.bV||void 0===C.bV?void 0:C.bV.PREVIEW):(y.push(null===C.bV||void 0===C.bV?void 0:C.bV.MARK,null===C.bV||void 0===C.bV?void 0:C.bV.PREVIEW),1===t?null===y||void 0===y||y.push(null===C.bV||void 0===C.bV?void 0:C.bV.REPEAT):0!==(null===n||void 0===n?void 0:n.length)&&0!==h||null===y||void 0===y||y.push(null===C.bV||void 0===C.bV?void 0:C.bV.DELETE))}return y},b=function(i,t,n){var e,o,d,s,a=0===+(null===i||void 0===i?void 0:i.activity_type)?null===i||void 0===i||null===(e=i.LessonActivityQuestions)||void 0===e?void 0:e.filter((function(i){var n,e,l;return(null===i||void 0===i||null===(n=i[p(+t)])||void 0===n||null===(e=n[f(+t)])||void 0===e||null===(l=e.flatMap((function(i){return null===i||void 0===i?void 0:i.StudentAnsAttempts})))||void 0===l?void 0:l.length)>0})).length:null===i||void 0===i||null===(o=i.LessonActivityQuestions)||void 0===o?void 0:o.filter((function(i){var n,e;return(null===i||void 0===i||null===(n=i[p(+t)])||void 0===n||null===(e=n.StudentAnsAttempts)||void 0===e?void 0:e.length)>0})).length;return 1===+(null===i||void 0===i?void 0:i.status)?(0,_.jsx)("span",{id:l.fullyCompleted,children:"Completed"}):2===+(null===i||void 0===i?void 0:i.status)?(0,_.jsx)("span",{id:l.partiallyCompleted,children:"Skip"}):a<=(null===i||void 0===i||null===(d=i.LessonActivityQuestions)||void 0===d?void 0:d.length)&&null!==n&&void 0!==n&&n.ses_is_completed?(0,_.jsx)("span",{id:l.notCompleted,children:"Incomplete"}):0===a?(0,_.jsx)("span",{}):a>0&&a<(null===i||void 0===i||null===(s=i.LessonActivityQuestions)||void 0===s?void 0:s.length)?(0,_.jsx)("span",{id:l.partiallyCompleted,children:"Currently working on"}):void 0},S="#DAE7F2",V="#D9F7ED",g="#20365B",D="#FFDBDB",x="#D9F7ED",E=function(i,t,n){var l,o,d,s,a,v,r,u=null===i||void 0===i||null===(l=i[p(+t)])||void 0===l||null===(o=l.StudentAnsAttempts)||void 0===o?void 0:o.length,c=null===i||void 0===i||null===(d=i[p(+t)])||void 0===d||null===(s=d.StudentAnsAttempts)||void 0===s||null===(a=s.filter((function(i){return i.attempt_status})))||void 0===a?void 0:a.length,_=function(i,t,n){var e,l,o,d,s,a=null===i||void 0===i?void 0:i.filter((function(i){var e,l,o,d;return 2===n?0===(null===i||void 0===i||null===(e=i[p(null===i||void 0===i?void 0:i.fk_sub_id)])||void 0===e||null===(l=e.StudentAnsAttempts)||void 0===l?void 0:l.length):0===(null===i||void 0===i||null===(o=i[p(t)])||void 0===o||null===(d=o.StudentAnsAttempts)||void 0===d?void 0:d.length)})),v=0;return 0===(null===a||void 0===a?void 0:a.length)?v=0:(null===a||void 0===a?void 0:a.length)<(null===i||void 0===i?void 0:i.length)&&(v=2===n?null===(e=a[0])||void 0===e?void 0:e.pk_lesson_activity_question_key:1===t?null===(l=a[0])||void 0===l||null===(o=l[p(+t)])||void 0===o?void 0:o.english_question_id:null===(d=a[0])||void 0===d||null===(s=d[p(+t)])||void 0===s?void 0:s.question_id),v}(null===n||void 0===n?void 0:n.LessonActivityQuestions,+t,null===n||void 0===n?void 0:n.activity_type),m=2===(null===n||void 0===n?void 0:n.activity_type)?null===i||void 0===i?void 0:i.pk_lesson_activity_question_key:1===t?null===i||void 0===i||null===(v=i[p(+t)])||void 0===v?void 0:v.english_question_id:null===i||void 0===i||null===(r=i[p(+t)])||void 0===r?void 0:r.question_id,y="",C=S;return 5!==(null===n||void 0===n?void 0:n.activity_type)&&7!==(null===n||void 0===n?void 0:n.activity_type)||0!==(null===i||void 0===i?void 0:i.marked_for_manual_marking)?1===u&&u===c?(y=e.dR,C=V):0===c&&u>=1?(y=e.x8,C=D):u>1&&c>0?(y=e.U6,C=x):C=_===m?g:S:C=S,{color:C,img:y}},k=n(85554),I=n(97738),j="NextActivityCard_activityBlock__YF4oS",N="NextActivityCard_activityBlockWrapper__a7bK+",T="NextActivityCard_addBtn__l64mm",M="NextActivityCard_blockWrapper__ksWj-",L="NextActivityCard_blockTitle__a894M",w="NextActivityCard_blockFooter__+yoWB",P="NextActivityCard_assessment__Tujbf",R="NextActivityCard_title__s4SI-",F="NextActivityCard_time__uDJ+q",q="NextActivityCard_amount__derYd",Q=function(i){var t=i.items,n=i.handlerRemove,l=i.type,d=i.handleAddNextActivity,a=(null===t||void 0===t?void 0:t.length)>0?t[0]:[],v=0===+l,r=(0,s.useState)(!0),u=(0,o.Z)(r,2),c=u[0],m=u[1];return(0,_.jsx)("div",{className:j,children:(0,_.jsxs)("div",{className:N,children:[(0,_.jsxs)("div",{className:M,children:[(0,_.jsx)("div",{className:L,children:v?null===a||void 0===a?void 0:a.node_name:null===a||void 0===a?void 0:a.name}),(0,_.jsxs)("div",{className:w,children:[(0,_.jsxs)("div",{className:P,children:[(0,_.jsx)("img",{src:e.Dz,alt:""}),(0,_.jsx)("div",{className:R,children:(0,h.t)(l)})]}),(0,_.jsx)("div",{className:F,children:(0,_.jsx)("div",{className:R,children:(0,y.g)(null===a||void 0===a?void 0:a.duration)})}),(0,_.jsxs)("div",{className:q,children:[(0,_.jsx)("img",{src:e.cF,alt:""}),(0,_.jsx)("div",{className:R,children:null!==a&&void 0!==a&&a.coins?a.coins:"-"})]})]})]}),c?(0,_.jsx)("button",{className:T,onClick:function(){d(a,l),m(!1)},children:"Add"}):null,(0,_.jsx)("img",{src:e.UF,alt:"",onClick:function(){return n(a)},className:"cursor-pointer"})]})},v?null===a||void 0===a?void 0:a.activity_node_id:null===a||void 0===a?void 0:a.pk_tutor_library_item_id)},B=n(31387),W=n(62442),Z="#DAE7F2",O="#D9F7ED",Y="#20365B",H="#FFDBDB",K="#D9F7ED",U=function(i,t,n){var l,o,d,s,a,v,r,u,c,_,m,y=null===i||void 0===i||null===(l=i[p(t)])||void 0===l||null===(o=l[f(t)])||void 0===o||null===(d=o.flatMap((function(i){return null===i||void 0===i?void 0:i.StudentAnsAttempts})))||void 0===d?void 0:d.length,C=null===i||void 0===i||null===(s=i[p(t)])||void 0===s||null===(a=s[f(t)])||void 0===a||null===(v=a.flatMap((function(i){var t;return null===(t=i.StudentAnsAttempts)||void 0===t?void 0:t.filter((function(i){return i.attempt_status}))})))||void 0===v?void 0:v.length,h=function(i,t){var n,e,l,o=null===i||void 0===i?void 0:i.filter((function(i){var n,e,l;return 0===(null===i||void 0===i||null===(n=i[p(t)])||void 0===n||null===(e=n[f(t)])||void 0===e||null===(l=e.flatMap((function(i){return null===i||void 0===i?void 0:i.StudentAnsAttempts})))||void 0===l?void 0:l.length)})),d=0;return 0===(null===o||void 0===o?void 0:o.length)?d=0:(null===o||void 0===o?void 0:o.length)<(null===i||void 0===i?void 0:i.length)&&(d=null===(n=o[0])||void 0===n||null===(e=n[p(t)])||void 0===e||null===(l=e[f(t)])||void 0===l?void 0:l.map((function(i){return 1===+t?null===i||void 0===i?void 0:i.english_question_part_id:2===+t||3===+t?null===i||void 0===i?void 0:i.part_id:null}))),d[0]}(null===n||void 0===n?void 0:n.LessonActivityQuestions,t),A=null===i||void 0===i||null===(r=i[p(+t)])||void 0===r||null===(u=r[f(+t)])||void 0===u?void 0:u.map((function(i){return 1===+t?null===i||void 0===i?void 0:i.english_question_part_id:2===+t||3===+t?null===i||void 0===i?void 0:i.part_id:[]})),b="",S=Z;return 5!==(null===n||void 0===n?void 0:n.activity_type)&&7!==(null===n||void 0===n?void 0:n.activity_type)||0!==(null===i||void 0===i?void 0:i.marked_for_manual_marking)?0===(null===n||void 0===n?void 0:n.activity_type)&&1===+t&&(null===i||void 0===i||null===(c=i.english_question)||void 0===c||null===(_=c.english_question_parts)||void 0===_?void 0:_.length)>0&&null!==i&&void 0!==i&&null!==(m=i.english_question)&&void 0!==m&&m.english_question_parts.some((function(i){return 0===(null===i||void 0===i?void 0:i.english_question_part_automark)}))&&0===(null===i||void 0===i?void 0:i.marked_for_manual_marking)?S=Z:1===y&&y===C?(b=e.dR,S=O):0===C&&y>=1?(b=e.x8,S=H):y>1&&C>0?(b=e.U6,S=K):S=(null===A||void 0===A?void 0:A.length)>0&&null!==A&&void 0!==A&&A.includes(h)?Y:Z:S=Z,{color:S,img:b}},G=function(i){var t,n,o,d=i.values,a=i.type,v=i.draggable,r=i.subject_id,u=i.lesson_key,c=i.handleActivityDelete,C=(i.redirectHandler,i.sessionID),S=void 0===C?"":C,V=i.studentID,g=void 0===V?"":V,D=i.setActivityType,x=i.activityType,j=i.getValues,N=i.handlePreview,T=i.handleRepeat,M=i.handleMarkView,L=(0,k.I0)(),w=(0,k.v9)((function(i){return i.session})),P=w.lessonPlan,R=w.nextActivityData,F=w.editLessonPlan,q=w.previousPlan,Z=0,O=function(){Z=1},Y=function(i,t){var n,e=0===t,l=[{activity_node_id:e?null===i||void 0===i?void 0:i.activity_node_id:null===i||void 0===i?void 0:i.pk_tutor_library_item_id,type:null===x||void 0===x?void 0:x.type,topic_id:e?null===i||void 0===i||null===(n=i.activity_level_has_topic_node)||void 0===n?void 0:n.topic_id:null===i||void 0===i?void 0:i.fk_activity_topic_id,subject_id:+r,is_homework:null===x||void 0===x?void 0:x.is_homework}],o={subject_id:+r,student_key:g,session_key:S,lesson_key:null===F||void 0===F?void 0:F.pk_lesson_key,activities:l,is_homework:null===x||void 0===x?void 0:x.is_homework};L((0,I.Jl)(o)).then((function(i){var t;200===(null===i||void 0===i||null===(t=i.payload)||void 0===t?void 0:t.statusCode)&&(j(),H(),B.Am.success("Activities Added successfully..."))}))},H=function(){D({type:"",is_homework:"",activityId:""}),L((0,I.MF)())},K=function(i,t){var n,e,o,s,a,v,u,c;return 5!==(null===d||void 0===d?void 0:d.activity_type)&&7!==(null===d||void 0===d?void 0:d.activity_type)||0!==(null===i||void 0===i?void 0:i.marked_for_manual_marking)?0===(null===d||void 0===d?void 0:d.activity_type)&&1===+r&&(null===i||void 0===i||null===(n=i.english_question)||void 0===n||null===(e=n.english_question_parts)||void 0===e?void 0:e.length)>0&&null!==i&&void 0!==i&&null!==(o=i.english_question)&&void 0!==o&&o.english_question_parts.some((function(i){return 0===(null===i||void 0===i?void 0:i.english_question_part_automark)}))&&0===(null===i||void 0===i?void 0:i.marked_for_manual_marking)?(O(),(0,_.jsx)("span",{className:l.markManual,children:"M"})):(null===i||void 0===i||null===(s=i[p(+r)])||void 0===s||null===(a=s.StudentAnsAttempts)||void 0===a?void 0:a.length)>0&&0!==(null===d||void 0===d?void 0:d.activity_type)?(0,_.jsx)("img",{alt:"",src:E(i,+r,d).img}):(null===i||void 0===i||null===(v=i[p(+r)])||void 0===v||null===(u=v[f(+r)])||void 0===u||null===(c=u.flatMap((function(i){return null===i||void 0===i?void 0:i.StudentAnsAttempts})))||void 0===c?void 0:c.length)>0&&0===(null===d||void 0===d?void 0:d.activity_type)?(0,_.jsx)("img",{alt:"",src:U(i,+r,d).img}):(0,_.jsx)("label",{style:{color:"#ffffff"},children:t+1}):(0,_.jsx)("span",{className:l.markManualWhite,children:"M"})};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:l.sessionDetailsActivityCardMainContainer,children:[(0,_.jsx)("div",{className:l.sessionDetailsActivityCardTitle,children:(0,_.jsxs)("div",{className:l.sessionDetailsActivityCardTitleSec,children:[b(d,+r,P),(0,_.jsxs)("div",{children:[v&&(0,_.jsx)("img",{src:e._l,alt:""}),(0,_.jsx)("label",{className:l.activityCardTitleLabel,children:function(){var i,t,n,e,l,o;return 0===+(null===d||void 0===d?void 0:d.activity_type)?null===d||void 0===d||null===(i=d.activity_node)||void 0===i?void 0:i.node_name:2===+(null===d||void 0===d?void 0:d.activity_type)?null===d||void 0===d||null===(t=d.topics)||void 0===t?void 0:t.map((function(i,t){return 0===t?i:"/"+i})):6===+(null===d||void 0===d?void 0:d.activity_type)?null===d||void 0===d||null===(n=d.activity_node)||void 0===n?void 0:n.video_name:7===+(null===d||void 0===d?void 0:d.activity_type)?null===d||void 0===d||null===(e=d.workSheet)||void 0===e||null===(l=e.activity_node)||void 0===l?void 0:l.node_name:null===d||void 0===d||null===(o=d.library_item)||void 0===o?void 0:o.name}()})]})]})}),(0,_.jsxs)("div",{className:l.sessionDetailsActivityCardActCont,children:[(0,_.jsxs)("div",{className:l.sessionDetailsActivityCardActContItem,children:[(0,_.jsx)("img",{src:e.AH,alt:""}),(0,_.jsx)("label",{className:l.activityCardTypeLabel,children:(0,h.t)(null===d||void 0===d?void 0:d.activity_type)})]}),(0,_.jsx)(m,{activity_type:null===d||void 0===d?void 0:d.activity_type,handleActivityDelete:c,lesson_key:u,activity_key:null===d||void 0===d?void 0:d.pk_lesson_activity_key,redirectHandler:function(){var i,t,n,e,l,o,s=0===(null===d||void 0===d?void 0:d.activity_type),a={session_id:S,student_id:g,subject_id:+r,activity_type:null===d||void 0===d?void 0:d.activity_type,is_homework:null===d||void 0===d?void 0:d.marked_for_homework,activity_node_id:s?null===d||void 0===d||null===(i=d.activity_node)||void 0===i?void 0:i.activity_node_id:null===d||void 0===d||null===(t=d.library_item)||void 0===t?void 0:t.pk_tutor_library_item_id,activity_topic_id:s?null===d||void 0===d||null===(n=d.activity_node)||void 0===n||null===(e=n.activityLevelHasTopicNode)||void 0===e?void 0:e.topic_id:null===d||void 0===d||null===(l=d.library_item)||void 0===l||null===(o=l.activity_master_topic)||void 0===o?void 0:o.activity_topic_id,sort_order:null===d||void 0===d?void 0:d.sort_order};L((0,I.Wz)(a)).then((function(i){var t,n,e,l,o,s;0===+(null===d||void 0===d?void 0:d.activity_type)&&0===(null===i||void 0===i||null===(t=i.payload)||void 0===t||null===(n=t.data)||void 0===n||null===(e=n.TopicActivities)||void 0===e?void 0:e.length)||0!==+(null===d||void 0===d?void 0:d.activity_type)&&0===(null===i||void 0===i||null===(l=i.payload)||void 0===l||null===(o=l.data)||void 0===o||null===(s=o.TutorLibraryItems)||void 0===s?void 0:s.length)?B.Am.warning("No, Activity suggestions for this activity"):D({type:null===d||void 0===d?void 0:d.activity_type,activityId:null===d||void 0===d?void 0:d.pk_lesson_activity_key,is_homework:null===d||void 0===d?void 0:d.marked_for_homework})}))},data:A(a,null===d||void 0===d?void 0:d.status,null===d||void 0===d?void 0:d.LessonActivityQuestions,r,null===d||void 0===d?void 0:d.activity_type,P,F,q),handlePreview:N,handleRepeat:function(){T(d)},handleMarkView:M},null===d||void 0===d?void 0:d.id)]}),(0,_.jsxs)("div",{className:l.sessionDetailsActivityCardActCont,children:[(0,_.jsxs)("div",{className:l.sessionDetailsActivityCardActContItem,children:[(0,_.jsx)("img",{src:e.SU,alt:""}),(0,_.jsx)("label",{className:l.activityCardTypeLabel,children:null!==d&&void 0!==d&&d.duration?(0,y.g)(null===d||void 0===d?void 0:d.duration):"."})]}),(0,_.jsxs)("div",{className:l.sessionDetailsActivityCardActContItem,children:[(0,_.jsx)("img",{src:e.e2,alt:""}),(0,W.Z)(null===d||void 0===d?void 0:d.LessonActivityQuestions)>0?(0,_.jsxs)("label",{className:l.activityCardTypeLabel,children:[null!==d&&void 0!==d&&d.coins_earned?null===d||void 0===d?void 0:d.coins_earned:0,"/",(0,W.Z)(null===d||void 0===d?void 0:d.LessonActivityQuestions)]}):(0,_.jsx)("label",{className:l.activityCardTypeLabel,children:"0"})]})]}),(0,_.jsx)("div",{className:l.sessionDetailsActivityCardQuestionSection,children:null===d||void 0===d||null===(t=d.LessonActivityQuestions)||void 0===t?void 0:t.map((function(i,t){return(0,_.jsxs)(s.Fragment,{children:[[0,2].includes(null===d||void 0===d?void 0:d.activity_type)?(0,_.jsx)("div",{style:{backgroundColor:0===(null===d||void 0===d?void 0:d.activity_type)?U(i,+r,d).color:E(i,+r,d).color},className:l.sessionDetailsActivityCardQuestionSectionItem,children:K(i,t)}):null,(5===(null===d||void 0===d?void 0:d.activity_type)||7===(null===d||void 0===d?void 0:d.activity_type))&&0===(null===i||void 0===i?void 0:i.marked_for_manual_marking)&&O()]},t)}))}),1===Z&&(0,_.jsxs)("div",{className:l.activityCardManualMarkStatus,children:[(0,_.jsx)("img",{src:e.uy,alt:""}),(0,_.jsx)("label",{children:"Manual marking required"})]})]},null===d||void 0===d?void 0:d.id),R&&0===(null===x||void 0===x?void 0:x.type)&&(null===x||void 0===x?void 0:x.activityId)===(null===d||void 0===d?void 0:d.pk_lesson_activity_key)&&(null===R||void 0===R||null===(n=R.TopicActivities)||void 0===n?void 0:n.length)>0?(0,_.jsx)(Q,{type:null===x||void 0===x?void 0:x.type,items:null===R||void 0===R?void 0:R.TopicActivities,handleAddNextActivity:Y,handlerRemove:H}):[1,2,3,4,5,7].includes(null===x||void 0===x?void 0:x.type)&&(null===x||void 0===x?void 0:x.activityId)===(null===d||void 0===d?void 0:d.pk_lesson_activity_key)&&(null===R||void 0===R||null===(o=R.TutorLibraryItems)||void 0===o?void 0:o.length)>0?(0,_.jsx)(Q,{type:null===x||void 0===x?void 0:x.type,items:null===R||void 0===R?void 0:R.TutorLibraryItems,handlerRemove:H,handleAddNextActivity:Y}):null]})}},18423:function(i,t,n){n.d(t,{Z:function(){return s}});var e=n(85554),l="ModalViewReport_ModalViewReportContainer__z0tKM",o=n(4809),d=n(46417),s=function(){var i,t,n=(0,e.v9)((function(i){return i.session})).getViewReportData,s=[{dataField:"id",text:"Id",hidden:!0,formatter:function(i,t){return(0,d.jsx)("div",{children:i})}},{dataField:"topic",text:"Topic",formatter:function(i,t){return(0,d.jsx)("div",{children:i})}},{dataField:"question_completed",text:"Question Completed",formatter:function(i,t){return(0,d.jsx)("div",{children:i})}},{dataField:"mastery_score",text:"Mastery score",formatter:function(i,t){return(0,d.jsx)("div",{children:Math.floor(+i)})}}];return(0,d.jsx)("div",{children:(0,d.jsx)(o.Z,{keyField:"id",columns:s,list:null===n||void 0===n||null===(i=n.report)||void 0===i||null===(t=i.activities)||void 0===t?void 0:t.map((function(i,t){return{id:t,topic:i[0],question_completed:i[1],mastery_score:i[2]}})),isPagination:!1,className:l})})}},58772:function(i,t,n){n.d(t,{t:function(){return l}});var e=n(75615),l=function(i){return 0===i?e.ru.ASSESSMENT:1===i||6===i?e.ru.VIDEO:2===i?e.ru.DIAGNOSTIC:3===i?e.ru.LINK:4===i?e.ru.TASK:5===i||7===i?e.ru.WORKSHEET:void 0}},18317:function(i,t,n){n.d(t,{U:function(){return l},g:function(){return e}});var e=function(i){if(i){var t=i.split("-");if(0===t[t.length-1]||"0"===t[t.length-1])return"-";var n=function(i){if(i){if(i<60)return i+" mins";var t=i%60;return Math.floor(i/60)+"h "+(t>0?t+" mins":"")}return"-"}(t[t.length-1]);return n}return"-"},l=function(i){if(i){if(i<60)return 1===i?i+" minute":i+" minutes";var t=Math.floor(i/60),n=i%60;return 1===t?t+" hour "+(n>0?n+"".concat(1===n?" min":" mins"):""):t+" hours "+(n>0?n+"".concat(1===n?" min":" mins"):"")}return"0 second"}},62442:function(i,t){t.Z=function(i){var t=0;return Array.isArray(i)&&(null===i||void 0===i||i.map((function(i,n){var e=null!==i&&void 0!==i&&i.coins_can_earn?+(null===i||void 0===i?void 0:i.coins_can_earn):0;t+=e}))),+t}},54902:function(i,t,n){var e=n(62442);t.Z=function(i){var t=0;return null!==Array&&void 0!==Array&&Array.isArray(i)&&(null===i||void 0===i||i.map((function(i,n){t+=(0,e.Z)(null===i||void 0===i?void 0:i.LessonActivityQuestions)}))),+t}},99815:function(i,t,n){n.d(t,{m:function(){return d}});var e=n(71524),l=n(1320),o=n(46417),d=function(i){var t="",n="";return 0===i?(t=l.Bo.UPCOMING.name,n=l.Bo.UPCOMING.color):1===i?(t=l.Bo.ONGOING.name,n=l.Bo.ONGOING.color):2===i?(t=l.Bo.ATTENDED.name,n=l.Bo.ATTENDED.color):3===i?(t=l.Bo.MISSED.name,n=l.Bo.MISSED.color):4===i?(t=l.Bo.CANCEL.name,n=l.Bo.CANCEL.color):5===i?(t=l.Bo.DEFER_REQUESTED.name,n=l.Bo.DEFER_REQUESTED.color):6===i&&(t=l.Bo.DEFER.name,n=l.Bo.DEFER.color),(0,o.jsx)("div",{style:{backgroundColor:n,width:"fit-content"},className:e.Z.sessionCardItemAttendedStatus,children:(0,o.jsx)("label",{style:{color:"#ffffff",width:"100%",fontSize:"10px"},children:t})})}},71524:function(i,t){t.Z={sessionCardMainContainer:"SessionCard_sessionCardMainContainer__ynqLY",sessionCardList:"SessionCard_sessionCardList__mAYYP",sessionCardItem:"SessionCard_sessionCardItem__LF6fu",advSessionCardItem:"SessionCard_advSessionCardItem__k0hW7",sessionCardItemUser:"SessionCard_sessionCardItemUser__Fmvx4",usernameOverFlowStyle:"SessionCard_usernameOverFlowStyle__KXEcn",usernameOverFlowStyle1:"SessionCard_usernameOverFlowStyle1__+xbFv",user_v:"SessionCard_user_v__v9xjT",sessionCardItemAttendedStatus:"SessionCard_sessionCardItemAttendedStatus__8XX29",sessionCardItemMissedStatus:"SessionCard_sessionCardItemMissedStatus__FXFID",sessionCardItemCoinDur:"SessionCard_sessionCardItemCoinDur__mYvqs",sessionCardItemPara:"SessionCard_sessionCardItemPara__S5bn5",subjectCard:"SessionCard_subjectCard__vHd+w",sessionCardItemStatus:"SessionCard_sessionCardItemStatus__Y5+ki",sessionCardItemStatus1:"SessionCard_sessionCardItemStatus1__GdwbW",sessionCardDetails:"SessionCard_sessionCardDetails__XgTPT",partiallyCompleted:"SessionCard_partiallyCompleted__xXkBg",notCompleted:"SessionCard_notCompleted__gfgyL",fullyCompleted:"SessionCard_fullyCompleted__UWQyQ",sessionCardDetailsHeader:"SessionCard_sessionCardDetailsHeader__eQuxe",sessionCardItemButtonContainer:"SessionCard_sessionCardItemButtonContainer__-zYiP",sessionCardItemActivityCardSection:"SessionCard_sessionCardItemActivityCardSection__PTbhi",sessionCardItemActivityCardSectionNoScroll:"SessionCard_sessionCardItemActivityCardSectionNoScroll__gzFtE",sessionDetailsActivityCardMainContainer:"SessionCard_sessionDetailsActivityCardMainContainer__10pLJ",sessionDetailsActivityCardTitle:"SessionCard_sessionDetailsActivityCardTitle__VGI5K",sessionDetailsActivityCardTitleSec:"SessionCard_sessionDetailsActivityCardTitleSec__ZY6jo",sessionDetailsActivityCardActCont:"SessionCard_sessionDetailsActivityCardActCont__xKl+U",sessionDetailsActivityCardActContItem:"SessionCard_sessionDetailsActivityCardActContItem__0QR5C",sessionDetailsActivityCardQuestionSection:"SessionCard_sessionDetailsActivityCardQuestionSection__hFu+8",sessionDetailsActivityCardQuestionSectionItem:"SessionCard_sessionDetailsActivityCardQuestionSectionItem__KSr+R",activityCardManualMarkStatus:"SessionCard_activityCardManualMarkStatus__Qq2nH",sessionDetailsCardItemSessionNameDetails:"SessionCard_sessionDetailsCardItemSessionNameDetails__SgrBx",sessionDetailsCardItemSessionNameDetailsSection1:"SessionCard_sessionDetailsCardItemSessionNameDetailsSection1__49taT",sessionDetailsCardItemSessionNameDetailsSection2:"SessionCard_sessionDetailsCardItemSessionNameDetailsSection2__B-fMX",titleSection:"SessionCard_titleSection__7ObyR"}}}]);