"use strict";(self.webpackChunksea_tutor_react=self.webpackChunksea_tutor_react||[]).push([[989],{93721:function(i,e,l){l.d(e,{DF:function(){return s},Fg:function(){return n},JM:function(){return c},Rd:function(){return r},ZX:function(){return u},eV:function(){return t},nS:function(){return a},p:function(){return d},pY:function(){return v},s3:function(){return o}});var a=[{label:"All",value:0},{label:"English",value:1},{label:"Maths",value:2},{label:"English & Maths",value:3}],t=[{label:"All",value:"0"},{label:"Upcoming",value:"1"},{label:"Reassigned",value:"2"},{label:"Ongoing",value:"3"},{label:"Completed",value:"4"}],n=[{label:"All",value:"0"},{label:"Recurring",value:"1"},{label:"One Off",value:"2"}],o=[{label:"Primary 1",value:"0"},{label:"Primary 2",value:"1"},{label:"Secondary",value:"2"}],d=[{label:"Apple Primary School",value:"0"},{label:"Apple Primary School",value:"1"},{label:"Apple Primary School",value:"2"}],r=[{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:25,value:25},{label:50,value:50},{label:100,value:100}],s={SCHOOL:"school",DATE:"date",LEVEL:"level",TYPE:"type",STATUS:"status",PAYMENT_STATUS:"payment_status",SUBJECT:"subject"},u={SESSIONS:"Search for session name...",STUDENTS:"Search for student ID, name...",MY_LIBRARY:"Search for activity name"},v={ENGLISH:"English",MATHS:"Maths"},c={UPCOMING:"Upcoming",REASSIGNED:"Reassigned",ONGOING:"Ongoing",COMPLETED:"Completed"}},88321:function(i,e,l){l.d(e,{Z:function(){return v}});l(47313);var a={translateMiddle:"DeleteModal_translateMiddle__aE+zO",title:"DeleteModal_title__LYpyp",btnCustom:"DeleteModal_btnCustom__b58cK",btnPrimary:"DeleteModal_btnPrimary__FZV6y",btnDiv:"DeleteModal_btnDiv__X6rIf"},t=l(54972),n=l(16707),o=l(68642),d=l(9327),r=l(46123),s=l.n(r),u=l(46417),v=function(i){var e=i.show,l=i.onHide,r=i.msg,v=void 0===r?"Are you sure you want to delete this activity?":r,c=i.deleteConfirmation,m=i.isLoad;return(0,u.jsx)(n.Z,{centered:!0,isOpen:e,toggle:l,className:a.documentModal,children:(0,u.jsxs)(o.Z,{className:"p-4",children:[(0,u.jsx)("i",{onClick:l,className:"fa-regular fa-circle-xmark  opacity-100 cursor-pointer position-absolute  ".concat(a.translateMiddle," ")}),(0,u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[(0,u.jsx)(t.j6O,{size:70,color:"#D83D59"}),(0,u.jsx)("span",{className:a.title,children:"Delete Confirmation"}),(0,u.jsx)("h6",{style:{marginTop:"10px"},children:v}),(0,u.jsxs)("div",{className:a.btnDiv,children:[(0,u.jsx)(d.Z,{type:"submit",onClick:c,className:s()(a.btnCustom,a.btnPrimary),disabled:m,children:m?"Deleting...":"Yes"}),(0,u.jsx)(d.Z,{outline:!0,color:"danger",onClick:l,className:s()(a.btnCustom),children:"Cancel"})]})]})]})})}},64361:function(i,e,l){l.r(e),l.d(e,{default:function(){return O}});var a=l(1413),t=l(29439),n=l(47313),o={mainContainer:"myLibrary_mainContainer__4iLjY",loader:"myLibrary_loader__jWbxr","spinner-d3wgkg":"myLibrary_spinner-d3wgkg__7bJi-",searchDiv:"myLibrary_searchDiv__l7Mul",searchRenewal:"myLibrary_searchRenewal__wuj9R",searchBox:"myLibrary_searchBox__Pkgbo",addActivityButton:"myLibrary_addActivityButton__VE5lj",noData:"myLibrary_noData__GHKM9",headerDiv:"myLibrary_headerDiv__unQPw",contentDiv:"myLibrary_contentDiv__+okPm",tabContentWrapper:"myLibrary_tabContentWrapper__qdlUl",tabContentHeader:"myLibrary_tabContentHeader__Z3VFj",wrapper:"myLibrary_wrapper__I2b35",titleWrapper:"myLibrary_titleWrapper__9oNcz",title:"myLibrary_title__vlQm6",innerRowWrapper:"myLibrary_innerRowWrapper__j+lI1",innerRow:"myLibrary_innerRow__lkGsJ",rowTitle:"myLibrary_rowTitle__qiqWu"},d="CommonCollapse_mainDiv__hWO5D",r="CommonCollapse_collapse__xrhTP",s=l(88683),u=l(58821),v=l(54972),c=l(58772),m=l(70816),_=l.n(m),y=l(18317),h=l(46417),p=function(i){var e=i.showModal,l=i.extra,a=i.parentStyle,t=i.setDeleteModal;return(0,h.jsxs)("div",{className:a.innerRowWrapper,children:[(0,h.jsx)("div",{className:a.innerRow,children:(0,h.jsx)("div",{className:a.rowTitle,children:(0,h.jsx)("div",{className:a.title,children:null!==l&&void 0!==l&&l.name?null===l||void 0===l?void 0:l.name:"-"})})}),(0,h.jsx)("div",{className:a.innerRow,children:(0,h.jsx)("div",{className:a.rowTitle,children:(0,h.jsx)("div",{className:a.title,children:null!==l&&void 0!==l&&l.source?null===l||void 0===l?void 0:l.source:"-"})})}),(0,h.jsx)("div",{className:a.innerRow,children:(0,h.jsx)("div",{className:a.rowTitle,children:(0,h.jsx)("div",{className:a.title,children:null!==l&&void 0!==l&&l.duration?(0,y.g)(null===l||void 0===l?void 0:l.duration):"-"})})}),(0,h.jsx)("div",{className:a.innerRow,children:(0,h.jsx)("div",{className:a.rowTitle,children:(0,h.jsx)("div",{className:a.title,children:null!==l&&void 0!==l&&l.activity_type?(0,c.t)(null===l||void 0===l?void 0:l.activity_type):"-"})})}),(0,h.jsx)("div",{className:a.innerRow,children:(0,h.jsx)("div",{className:a.rowTitle,children:(0,h.jsx)("div",{className:a.title,children:null!==l&&void 0!==l&&l.created_on?_()(null===l||void 0===l?void 0:l.created_on).format("D MMM YYYY"):"-"})})}),(0,h.jsxs)("div",{className:a.innerRow,children:[(0,h.jsx)(v.enh,{onClick:function(){e({show:!0,data:l})},className:"cursor-pointer"}),(0,h.jsx)(v.Ehm,{onClick:function(){t({show:!0,id:null===l||void 0===l?void 0:l.pk_tutor_library_item_id,subject_id:null===l||void 0===l?void 0:l.fk_sub_id})},className:"cursor-pointer"})]})]})},b=l(46123),f=l.n(b),j=function(i){var e=i.args,l=i.title,o=void 0===l?"":l,v=i.showModal,c=i.parentStyle,m=i.innerData,_=i.setDeleteModal,y=i.isDefaultShow,b=void 0!==y&&y,j=i.isOther,x=void 0!==j&&j,w=(0,n.useState)(!0),N=(0,t.Z)(w,2),g=N[0],D=N[1];return(0,n.useEffect)((function(){b&&D(!0)}),[b]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:d,children:(0,h.jsxs)("div",{className:f()(r),onClick:function(){return D(!g)},children:[(0,h.jsx)("span",{className:"",children:o}),g?(0,h.jsx)(u.E0f,{}):(0,h.jsx)(u.IAR,{})]})}),(0,h.jsx)(s.Z,(0,a.Z)((0,a.Z)({isOpen:g},e),{},{children:!x&&(null===m||void 0===m?void 0:m.length)>0?(0,h.jsxs)(h.Fragment,{children:[" ",null===m||void 0===m?void 0:m.map((function(i,e){return(0,h.jsx)(p,{showModal:v,parentStyle:c,extra:i,setDeleteModal:_},e)}))]}):x&&m.length>0?null===m||void 0===m?void 0:m.map((function(i){return(0,h.jsx)(p,{showModal:v,parentStyle:c,setDeleteModal:_,extra:i})})):null}))]})},x=l(773),w=l(22092),N=l(85554),g=l(90245),D=l(28330),Z=l(93721),S=function(i){var e=i.search,l=i.handleSearch,a=i.setActivityModal;return(0,h.jsx)("div",{className:o.searchDiv,children:(0,h.jsxs)("div",{className:f()("position-relative m-0 mb-3",o.searchBox,o.searchRenewal,"min-w-150"),children:[(0,h.jsx)("input",{type:"search",className:"",placeholder:Z.ZX.MY_LIBRARY,value:e,onChange:function(i){l(i.target.value)}}),(0,h.jsx)("i",{className:"fa fa-magnifying-glass"}),(0,h.jsx)("button",{onClick:function(){return a(!0)},className:o.addActivityButton,children:"Add New Activity"})]})})},C=l(4255),L=l(31387),M=function(i){var e=i.headers,l=i.styles;return(0,h.jsx)("div",{className:l.tabContentHeader,children:null===e||void 0===e?void 0:e.map((function(i){return(0,h.jsx)("div",{className:l.wrapper,children:(0,h.jsx)("div",{className:l.titleWrapper,children:(0,h.jsx)("div",{className:f()(l.title),children:null===i||void 0===i?void 0:i.title})})},null===i||void 0===i?void 0:i.title)}))})},k=l(88321),A=[{label:"Less than 2 minutes",value:"Less than 2 minutes",id:"0-2"},{label:"2-5 minutes",value:"2-5 minutes",id:"2-5"},{label:"5-10 minutes",value:"5-10 minutes",id:"5-10"},{label:"10-15 minutes",value:"10-15 minutes",id:"10-15"},{label:"15-20 minutes",value:"15-20 minutes",id:"15-20"},{label:"20-30 minutes",value:"20-30 minutes",id:"20-30"},{label:"30-60 minutes",value:"30-60 minutes",id:"30-60"}],E=l(51753),R=l(268),T={library_item_id:0,subject:"",topic:"",activity_type:"",activity_name:"",source:"",duration:"",file:"",link:"",video:""},I={library_item_id:0,subject:!1,topic:!1,activity_type:!1,activity_name:!1,source:!1,duration:!1,file:!1,link:!1,video:!1},O=function(){var i=(0,N.I0)(),e=(0,N.v9)((function(i){return i.myLibrary})).myLibraryDetails,l=e.list,d=e.isLoading,r=(0,n.useState)(""),s=(0,t.Z)(r,2),u=s[0],v=s[1],c=(0,C.Z)(null===u||void 0===u?void 0:u.trim()),m=(0,n.useState)({show:!1,id:"",isLoad:!1}),_=(0,t.Z)(m,2),y=_[0],p=_[1],b=(0,n.useState)({subjectId:"",topicId:""}),Z=(0,t.Z)(b,2),O=Z[0],P=Z[1],B=(0,n.useState)(!1),V=(0,t.Z)(B,2),Y=V[0],H=V[1],U=(0,n.useState)({show:!1,data:""}),W=(0,t.Z)(U,2),z=W[0],F=W[1],G=(0,n.useState)(T),J=(0,t.Z)(G,2),q=J[0],K=J[1],X=(0,n.useState)(I),Q=(0,t.Z)(X,2),$=Q[0],ii=Q[1],ei=(0,n.useState)(!1),li=(0,t.Z)(ei,2),ai=li[0],ti=li[1],ni=c&&!d&&0===(null===l||void 0===l?void 0:l.length),oi=function(){p({id:"",show:!1,isLoad:!1})};(0,n.useEffect)((function(){i((0,g.HB)({search:c}))}),[c,i]);var di=function(i){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(i)},ri=function(){if(ii(I),function(){var i,e,l,t,n,o,d;return null!==q&&void 0!==q&&q.subject?null!==q&&void 0!==q&&null!==(i=q.activity_type)&&void 0!==i&&i.value?null!==q&&void 0!==q&&q.activity_name?null!==q&&void 0!==q&&null!==(e=q.duration)&&void 0!==e&&e.value?5!==(null===q||void 0===q||null===(l=q.activity_type)||void 0===l?void 0:l.value)||null!==q&&void 0!==q&&q.file?3!==(null===q||void 0===q||null===(t=q.activity_type)||void 0===t?void 0:t.value)||null!==q&&void 0!==q&&q.link?1!==(null===q||void 0===q||null===(n=q.activity_type)||void 0===n?void 0:n.value)||null!==q&&void 0!==q&&q.video?(3!==(null===q||void 0===q||null===(o=q.activity_type)||void 0===o?void 0:o.value)||di(null===q||void 0===q?void 0:q.link))&&!(1===(null===q||void 0===q||null===(d=q.activity_type)||void 0===d?void 0:d.value)&&!di(null===q||void 0===q?void 0:q.video))||(ii((function(i){return(0,a.Z)((0,a.Z)({},i),{},{linkValid:!0})})),!1):(ii((function(i){return(0,a.Z)((0,a.Z)({},i),{},{video:!0})})),!1):(ii((function(i){return(0,a.Z)((0,a.Z)({},i),{},{link:!0})})),!1):(ii((function(i){return(0,a.Z)((0,a.Z)({},i),{},{file:!0})})),!1):(ii((function(i){return(0,a.Z)((0,a.Z)({},i),{},{duration:!0})})),!1):(ii((function(i){return(0,a.Z)((0,a.Z)({},i),{},{activity_name:!0})})),!1):(ii((function(i){return(0,a.Z)((0,a.Z)({},i),{},{activity_type:!0})})),!1):(ii((function(i){return(0,a.Z)((0,a.Z)({},i),{},{subject:!0})})),!1)}()){var e,l,t,n,o;ti(!0);var d={library_item_id:null===q||void 0===q?void 0:q.library_item_id,subject_id:null===q||void 0===q?void 0:q.subject,topic_id:0,activity_type:null===q||void 0===q||null===(e=q.activity_type)||void 0===e?void 0:e.value,activity_name:null===q||void 0===q?void 0:q.activity_name,source:null===q||void 0===q?void 0:q.source,duration:null===q||void 0===q||null===(l=q.duration)||void 0===l?void 0:l.value,link:5===(null===q||void 0===q||null===(t=q.activity_type)||void 0===t?void 0:t.value)?null===q||void 0===q?void 0:q.file:3===(null===q||void 0===q||null===(n=q.activity_type)||void 0===n?void 0:n.value)?null===q||void 0===q?void 0:q.link:1===(null===q||void 0===q||null===(o=q.activity_type)||void 0===o?void 0:o.value)?null===q||void 0===q?void 0:q.video:""};i((0,g.xn)(d)).then((function(e){var l,a,t,n,o;(ti(!1),200===(null===e||void 0===e||null===(l=e.payload)||void 0===l?void 0:l.statusCode))?(i((0,g.HB)({search:c})),P({subjectId:null===e||void 0===e||null===(a=e.payload)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.fk_sub_id,topicId:null===e||void 0===e||null===(n=e.payload)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.fk_activity_topic_id}),0===+(null===q||void 0===q?void 0:q.library_item_id)?L.Am.success("Added successfully..."):L.Am.success("Updated successfully..."),H(!1),F({show:!1,data:""}),K(T),ii(I)):L.Am.error("Something went wrong")}))}};return(0,n.useEffect)((function(){if(z.data){var i,e,l,a=z.data,t=a.fk_sub_id,n=a.name,o=a.activity_type,d=a.fk_activity_topic_id,r=a.source,s=a.duration,u=a.pk_tutor_library_item_id;K({library_item_id:u,subject:+t,topic:d,activity_type:E.J.find((function(i){return i.value===o})),activity_name:n,source:r,duration:(v=s,A.find((function(i){return i.id===v}))),file:5===o?null===(i=z.data)||void 0===i?void 0:i.link:"",link:3===o?null===(e=z.data)||void 0===e?void 0:e.link:"",video:1===o?null===(l=z.data)||void 0===l?void 0:l.link:""})}var v}),[z]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:o.mainContainer,children:[(0,h.jsx)(S,{search:u,handleSearch:function(e){v(e),i((0,g.vw)(e))},setActivityModal:H}),(0,h.jsxs)("div",{className:o.tabContentWrapper,children:[(0,h.jsx)(M,{headers:D.z,styles:o}),ni?(0,h.jsx)("div",{className:o.noData,children:R.yt}):d?(0,h.jsx)("div",{className:o.loader}):d||0!==(null===l||void 0===l?void 0:l.length)?(0,h.jsx)("div",{className:f()(o.contentDiv,"auto_table_data"),children:null===l||void 0===l?void 0:l.map((function(i,e){return(0,h.jsx)(j,{showModal:F,setDeleteModal:p,isOpen:!0,title:null===i||void 0===i?void 0:i.subject_name,parentKey:e+(null===i||void 0===i?void 0:i.subject_id),parentStyle:o,innerData:null===i||void 0===i?void 0:i.TutorLibraryItems,isDefaultShow:+(null===i||void 0===i?void 0:i.subject_id)===+(null===O||void 0===O?void 0:O.subjectId),isOther:3===+(null===i||void 0===i?void 0:i.subject_id),addUpdate:O},e)}))}):(0,h.jsx)("div",{className:o.noData,children:"No data "})]})]}),(0,h.jsx)(x.Z,{show:Y,closeModal:function(){H(!1),K(T),ii(I)},hide:function(){return ri()},title:"Add New Activity",modalBody:(0,w.Z)({values:q,setValues:K,errorValues:$,setErrorValues:ii,isValidUrl:di}),btnPrimary:"Add",isDisable:ai}),(0,h.jsx)(x.Z,{show:null===z||void 0===z?void 0:z.show,title:"Edit Activity",modalBody:(0,w.Z)({values:q,setValues:K,errorValues:$,isEdit:!0,setErrorValues:ii,isValidUrl:di}),btnPrimary:"Edit",hide:function(){return ri()},closeModal:function(){K(T),ii(I),F(!1)},isDisable:ai}),y.show?(0,h.jsx)(k.Z,{show:y.show,onHide:oi,deleteConfirmation:function(){p((0,a.Z)((0,a.Z)({},y),{},{isLoad:!0})),i((0,g.cC)({library_item_id:null===y||void 0===y?void 0:y.id})).then((function(e){var l,a;200===(null===e||void 0===e||null===(l=e.payload)||void 0===l?void 0:l.statusCode)?L.Am.success(e.payload.data):201===(null===e||void 0===e||null===(a=e.payload)||void 0===a?void 0:a.statusCode)&&L.Am.warning(e.payload.data);oi(),i((0,g.HB)({search:c})),P({subjectId:null===y||void 0===y?void 0:y.subject_id,topicId:""})}))},isLoad:null===y||void 0===y?void 0:y.isLoad}):null]})}}}]);